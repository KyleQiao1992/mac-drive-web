{"remainingRequest":"/Users/mttest/Profile/mac-drive-web/node_modules/babel-loader/lib/index.js!/Users/mttest/Profile/mac-drive-web/src/request/http.js","dependencies":[{"path":"/Users/mttest/Profile/mac-drive-web/src/request/http.js","mtime":1701827905860},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovL+aLpuaIquWZqOmFjee9rgppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gImVsZW1lbnQtdWkiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy/lpoLmnpzlrZjlnKh0b2tlbu+8jOWImeivt+axguaQuuW4pui/mXRva2VuCiAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlblN0ciIpKSB7CiAgICBjb25maWcuaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuU3RyIik7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7Cn0pOwpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChzdWNjZXNzKSB7CiAgLy/kuJrliqHpgLvovpHplJnor68KICBpZiAoc3VjY2Vzcy5zdGF0dXMgJiYgc3VjY2Vzcy5zdGF0dXMgPT09IDIwMCkgewogICAgaWYgKHN1Y2Nlc3MuZGF0YS5jb2RlID09PSA1MDAgfHwgc3VjY2Vzcy5kYXRhLmNvZGUgPT09IDQwMSB8fCBzdWNjZXNzLmRhdGEuY29kZSA9PT0gNDAzKSB7CiAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgICAgdGl0bGU6IHN1Y2Nlc3MuZGF0YS5tZXNzYWdlIC8vbWVzc2FnZTogJycKCiAgICAgIH0pOyAvL01lc3NhZ2UuZXJyb3Ioe21lc3NhZ2U6c3VjY2Vzcy5kYXRhLm1lc3NhZ2V9KTsKCiAgICAgIHJldHVybjsKICAgIH0gLy/mk43kvZzmiJDlip8KCgogICAgaWYgKHN1Y2Nlc3MuZGF0YS5tZXNzYWdlKSB7CiAgICAgIE5vdGlmaWNhdGlvbi5zdWNjZXNzKHsKICAgICAgICB0aXRsZTogc3VjY2Vzcy5kYXRhLm1lc3NhZ2UsCiAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiCiAgICAgIH0pOyAvL01lc3NhZ2Uuc3VjY2Vzcyh7bWVzc2FnZTpzdWNjZXNzLmRhdGEubWVzc2FnZX0pOwogICAgfQogIH0KCiAgcmV0dXJuIHN1Y2Nlc3MuZGF0YTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLmNvZGUgPT09IDUwNCB8fCBlcnJvci5yZXNwb25zZS5jb2RlID09PSA0MDQpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiAi5pyN5Yqh5Zmo5a6V5py65LqG77yMKCDila/ilqHilbAgKSIKICAgIH0pOwogIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2UuY29kZSA9PT0gNDAzKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogIuaCqOeahOadg+mZkOS4jei2syIKICAgIH0pOwogIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2UuY29kZSA9PT0gNDAxKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogIuWwmuacqueZu+W9le+8jOivt+eZu+W9lSIKICAgIH0pOyAvL+i3s+iHs+eZu+W9lemhtemdogoKICAgIHJvdXRlci5yZXBsYWNlKCIvIik7CiAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpIHsKICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UKICAgIH0pOwogIH0gZWxzZSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogIuacquefpemUmeivryIKICAgIH0pOwogIH0KfSk7Ci8qKgogKiBnZXTmlrnms5XvvIzlr7nlupRnZXTor7fmsYIKICovCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZnVuY3Rpb24gZ2V0KHVybCwgcGFyYW1zKSB7CiAgdmFyIGluZm8gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICIiOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBheGlvcy5nZXQodXJsICsgaW5mbywgewogICAgICBwYXJhbXM6IHBhcmFtcwogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlc29sdmUocmVzKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgcmVqZWN0KGVycik7CiAgICB9KTsKICB9KTsKfQovKioKICogcG9zdOaWueazle+8jOWvueW6lHBvc3Tor7fmsYIKICogaW5mb+S4uiB0cnVl77yMZm9ybURhdGHmoLzlvI/vvJsKICogaW5mb+S4uiB1bmRlZmluZWTmiJZmYWxzZe+8jOaYr2pzb27moLzlvI8KICovCgpleHBvcnQgZnVuY3Rpb24gcG9zdCh1cmwpIHsKICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIGluZm8gPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIG5ld0RhdGEgPSBkYXRhOwoKICAgIGlmIChpbmZvKSB7CiAgICAgIC8vICDovaxmb3JtRGF0YeagvOW8jwogICAgICBuZXdEYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBmb3IgKHZhciBpIGluIGRhdGEpIHsKICAgICAgICBuZXdEYXRhLmFwcGVuZChpLCBkYXRhW2ldKTsKICAgICAgfQogICAgfQoKICAgIGF4aW9zLnBvc3QodXJsLCBuZXdEYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmVzb2x2ZShyZXMpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9Ci8qKgogKiDlsIHoo4VwdXTor7fmsYIKICovCgpleHBvcnQgZnVuY3Rpb24gcHV0KHVybCkgewogIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogIHZhciBpbmZvID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAiIjsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYXhpb3MucHV0KHVybCArIGluZm8sIHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlc29sdmUocmVzKTsKICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgcmVqZWN0KGVycik7CiAgICB9KTsKICB9KTsKfQovKioKICog5bCB6KOFZGVsZXRl6K+35rGCCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGF4aW9zRGVsZXRlKHVybCkgewogIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogIHZhciBpbmZvID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAiIjsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYXhpb3MuZGVsZXRlKHVybCArIGluZm8sIHsKICAgICAgcGFyYW1zOiBwYXJhbXMKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXNvbHZlKHJlcyk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHVybCh1cmkpIHsKICByZXR1cm4gdXJpOwp9"},{"version":3,"sources":["/Users/mttest/Profile/mac-drive-web/src/request/http.js"],"names":["Message","Notification","router","axios","interceptors","request","use","config","window","sessionStorage","getItem","headers","error","console","log","response","success","status","data","code","title","message","position","replace","get","url","params","info","Promise","resolve","reject","then","res","catch","err","post","newData","FormData","i","append","put","axiosDelete","delete","uri"],"mappings":"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","sourcesContent":["//拦截器配置\nimport { Message } from \"element-ui\";\nimport { Notification } from \"element-ui\";\nimport router from \"../router\";\n\naxios.interceptors.request.use(\n  config => {\n    //如果存在token，则请求携带这token\n    if (window.sessionStorage.getItem(\"tokenStr\")) {\n      config.headers[\"Authorization\"] = window.sessionStorage.getItem(\n        \"tokenStr\"\n      );\n    }\n    return config;\n  },\n  error => {\n    console.log(error);\n  }\n);\n\naxios.interceptors.response.use(\n  success => {\n    //业务逻辑错误\n    if (success.status && success.status === 200) {\n      if (\n        success.data.code === 500 ||\n        success.data.code === 401 ||\n        success.data.code === 403\n      ) {\n        Notification.error({\n          title: success.data.message\n          //message: ''\n        });\n        //Message.error({message:success.data.message});\n        return;\n      }\n      //操作成功\n      if (success.data.message) {\n        Notification.success({\n          title: success.data.message,\n          position: \"bottom-right\"\n        });\n        //Message.success({message:success.data.message});\n      }\n    }\n    return success.data;\n  },\n  error => {\n    if (error.response.code === 504 || error.response.code === 404) {\n      Message.error({ message: \"服务器宕机了，( ╯□╰ )\" });\n    } else if (error.response.code === 403) {\n      Message.error({ message: \"您的权限不足\" });\n    } else if (error.response.code === 401) {\n      Message.error({ message: \"尚未登录，请登录\" });\n      //跳至登录页面\n      router.replace(\"/\");\n    } else if (error.response.data.message) {\n      Message.error({ message: error.response.data.message });\n    } else {\n      Message.error({ message: \"未知错误\" });\n    }\n  }\n);\n\n/**\n * get方法，对应get请求\n */\nimport axios from \"axios\";\n\nexport function get(url, params, info = \"\") {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(url + info, {\n        params: params\n      })\n      .then(res => {\n        resolve(res);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n\n/**\n * post方法，对应post请求\n * info为 true，formData格式；\n * info为 undefined或false，是json格式\n */\nexport function post(url, data = {}, info) {\n  return new Promise((resolve, reject) => {\n    let newData = data;\n    if (info) {\n      //  转formData格式\n      newData = new FormData();\n      for (let i in data) {\n        newData.append(i, data[i]);\n      }\n    }\n    axios\n      .post(url, newData)\n      .then(res => {\n        resolve(res);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n\n/**\n * 封装put请求\n */\n\nexport function put(url, params = {}, info = \"\") {\n  return new Promise((resolve, reject) => {\n    axios.put(url + info, params).then(\n      res => {\n        resolve(res);\n      },\n      err => {\n        reject(err);\n      }\n    );\n  });\n}\n\n/**\n * 封装delete请求\n */\nexport function axiosDelete(url, params = {}, info = \"\") {\n  return new Promise((resolve, reject) => {\n    axios\n      .delete(url + info, {\n        params: params\n      })\n      .then(res => {\n        resolve(res);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n\nexport function url(uri) {\n  return uri;\n}\n"]}]}