{"remainingRequest":"/Users/mttest/Profile/mac-drive-web/node_modules/babel-loader/lib/index.js!/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mttest/Profile/mac-drive-web/src/views/components/SideMenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mttest/Profile/mac-drive-web/src/views/components/SideMenu.vue","mtime":1702442782900},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTaWRlTWVudSIsCiAgcHJvcHM6IHsKICAgIHN0b3JhZ2VWYWx1ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNDb2xsYXBzZTogZmFsc2UsCiAgICAgIC8vIENvbnRyb2xzIG1lbnUgY29sbGFwc2UgYW5kIGV4cGFuc2lvbgogICAgICBzdG9yYWdlTWF4VmFsdWU6IE1hdGgucG93KDEwMjQsIDMpICogMTAwLAogICAgICAvLyBEZWZhdWx0IHN0b3JhZ2UgY2FwYWNpdHksIDEwMEdCCiAgICAgIC8vIEN1c3RvbSBwcm9ncmVzcyBiYXIgY29sb3IsIGRpZmZlcmVudCBwZXJjZW50YWdlcyBoYXZlIGRpZmZlcmVudCBjb2xvcnMKICAgICAgc3RvcmFnZUNvbG9yOiBbewogICAgICAgIGNvbG9yOiAiIzg5ZWE1OSIsCiAgICAgICAgcGVyY2VudGFnZTogNTAKICAgICAgfSwgewogICAgICAgIGNvbG9yOiAiI2VlYTc0MCIsCiAgICAgICAgcGVyY2VudGFnZTogODAKICAgICAgfSwgewogICAgICAgIGNvbG9yOiAiI2YzNTA1MCIsCiAgICAgICAgcGVyY2VudGFnZTogMTAwCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSBtZW51CiAgICBhY3RpdmVJbmRleDogZnVuY3Rpb24gYWN0aXZlSW5kZXgoKSB7CiAgICAgIHJldHVybiBTdHJpbmcodGhpcy4kcm91dGUucXVlcnkuZmlsZVR5cGUpOyAvLyBHZXQgdGhlIGZpbGUgdHlwZSBpbmNsdWRlZCBpbiB0aGUgY3VycmVudCByb3V0ZSBwYXJhbWV0ZXIKICAgIH0sCiAgICAvLyBTdG9yYWdlIHBlcmNlbnRhZ2UKICAgIHN0b3JhZ2VQZXJjZW50YWdlOiBmdW5jdGlvbiBzdG9yYWdlUGVyY2VudGFnZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZVZhbHVlIC8gdGhpcy5zdG9yYWdlTWF4VmFsdWUgKiAxMDA7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8gTGlzdGVuIGZvciBjaGFuZ2VzIGluIHRoZSBjb2xsYXBzZSBzdGF0ZSwgc3RvcmUgaW4gc2Vzc2lvblN0b3JhZ2UgdG8gbWFpbnRhaW4gdGhlIHN0YXRlIGFmdGVyIHBhZ2UgcmVmcmVzaAogICAgaXNDb2xsYXBzZTogZnVuY3Rpb24gaXNDb2xsYXBzZShuZXdWYWx1ZSkgewogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJpc0NvbGxhcHNlIiwgbmV3VmFsdWUpOwogICAgfQogIH0sCiAgZmlsdGVyczogewogICAgLy8gQ2FsY3VsYXRlIHNwYWNlIHVzYWdlCiAgICBzdG9yYWdlVHJhbnM6IGZ1bmN0aW9uIHN0b3JhZ2VUcmFucyhzaXplLCBzdGF0dXMpIHsKICAgICAgdmFyIEIgPSAxMDI0OwogICAgICB2YXIgS0IgPSBNYXRoLnBvdygxMDI0LCAyKTsKICAgICAgdmFyIE1CID0gTWF0aC5wb3coMTAyNCwgMyk7CiAgICAgIHZhciBHQiA9IE1hdGgucG93KDEwMjQsIDQpOwoKICAgICAgaWYgKHN0YXR1cykgewogICAgICAgIC8vIFRydW5jYXRlIHRvIGludGVnZXIgcGFydAogICAgICAgIGlmICghc2l6ZSkgewogICAgICAgICAgcmV0dXJuIDAgKyAiS0IiOwogICAgICAgIH0gZWxzZSBpZiAoc2l6ZSA8IEtCKSB7CiAgICAgICAgICByZXR1cm4gKHNpemUgLyBCKS50b0ZpeGVkKDApICsgIktCIjsKICAgICAgICB9IGVsc2UgaWYgKHNpemUgPCBNQikgewogICAgICAgICAgcmV0dXJuIChzaXplIC8gS0IpLnRvRml4ZWQoMCkgKyAiTUIiOwogICAgICAgIH0gZWxzZSBpZiAoc2l6ZSA8IEdCKSB7CiAgICAgICAgICByZXR1cm4gKHNpemUgLyBNQikudG9GaXhlZCgwKSArICJHQiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAoc2l6ZSAvIEdCKS50b0ZpeGVkKDApICsgIlRCIjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCFzaXplKSB7CiAgICAgICAgICByZXR1cm4gMCArICJLQiI7CiAgICAgICAgfSBlbHNlIGlmIChzaXplIDwgS0IpIHsKICAgICAgICAgIHJldHVybiAoc2l6ZSAvIEIpLnRvRml4ZWQoMCkgKyAiS0IiOwogICAgICAgIH0gZWxzZSBpZiAoc2l6ZSA8IE1CKSB7CiAgICAgICAgICByZXR1cm4gKHNpemUgLyBLQikudG9GaXhlZCgyKSArICJNQiI7CiAgICAgICAgfSBlbHNlIGlmIChzaXplIDwgR0IpIHsKICAgICAgICAgIHJldHVybiAoc2l6ZSAvIE1CKS50b0ZpeGVkKDMpICsgIkdCIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIChzaXplIC8gR0IpLnRvRml4ZWQoNCkgKyAiVEIiOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaXNDb2xsYXBzZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImlzQ29sbGFwc2UiKSA9PT0gInRydWUiOyAvLyBSZXRyaWV2ZSBzYXZlZCBzdGF0ZQogIH0KfTs="},{"version":3,"sources":["SideMenu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!-- collapse attribute: controls the menu collapse and expansion -->\n  <el-menu\n      class=\"side-menu\"\n      :default-active=\"activeIndex\"\n      :router=\"true\"\n      :collapse=\"isCollapse\"\n      background-color=\"#fff\"\n      text-color=\"#000\"\n      active-text-color=\"#2578b5\"\n  >\n    <div class=\"fold-wrapper\">\n      <!-- click event: toggle the menu collapse status when clicked -->\n      <i\n          class=\"el-icon-s-unfold\"\n          v-if=\"isCollapse\"\n          title=\"Expand\"\n          @click=\"isCollapse = false\"\n      ></i>\n      <i\n          class=\"el-icon-s-fold\"\n          v-else\n          title=\"Collapse\"\n          @click=\"isCollapse = true\"\n      ></i>\n    </div>\n    <el-submenu index=\"myFile\" class=\"my-file\">\n      <template slot=\"title\">\n        <!-- Icons are from the Element UI official icon library https://element.eleme.cn/#/zh-CN/component/icon -->\n        <i class=\"el-icon-files\"></i>\n        <span slot=\"title\">My Files</span>\n      </template>\n      <el-menu-item\n          index=\"0\"\n          :route=\"{ name: 'index', query: { fileType: 0, filePath: '/' } }\"\n      >\n        <i class=\"el-icon-menu\"></i>\n        <span slot=\"title\">All</span>\n      </el-menu-item>\n      <el-menu-item index=\"1\" :route=\"{ name: 'index', query: { fileType: 1 } }\">\n        <i class=\"el-icon-picture-outline\"></i>\n        <span slot=\"title\">Images</span>\n      </el-menu-item>\n      <el-menu-item index=\"2\" :route=\"{ name: 'index', query: { fileType: 2 } }\">\n        <i class=\"el-icon-document\"></i>\n        <span slot=\"title\">Documents</span>\n      </el-menu-item>\n      <el-menu-item index=\"3\" :route=\"{ name: 'index', query: { fileType: 3 } }\">\n        <i class=\"el-icon-video-camera\"></i>\n        <span slot=\"title\">Videos</span>\n      </el-menu-item>\n      <el-menu-item index=\"4\" :route=\"{ name: 'index', query: { fileType: 4 } }\">\n        <i class=\"el-icon-headset\"></i>\n        <span slot=\"title\">Music</span>\n      </el-menu-item>\n      <el-menu-item index=\"5\" :route=\"{ name: 'index', query: { fileType: 5 } }\">\n        <i class=\"el-icon-receiving\"></i>\n        <span slot=\"title\">Compressed</span>\n      </el-menu-item>\n\n      <el-menu-item index=\"6\" :route=\"{ name: 'index', query: { fileType: 6 } }\">\n        <i class=\"el-icon-takeaway-box\"></i>\n        <span slot=\"title\">Others</span>\n      </el-menu-item>\n    </el-submenu>\n\n    <el-menu-item index=\"8\" :route=\"{ name: 'index', query: { fileType: 8 } }\">\n      <i class=\"el-icon-delete\"></i>\n      <span slot=\"title\">Recycle Bin</span>\n    </el-menu-item>\n\n    <el-menu-item\n        index=\"9\"\n        :route=\"{ name: 'index', query: { fileType: 9, filePath: '/' } }\"\n    >\n      <i class=\"el-icon-share\"></i>\n      <span slot=\"title\">My Share</span>\n    </el-menu-item>\n\n    <div class=\"storage-wrapper\" :class=\"{ fold: isCollapse }\">\n      <el-progress\n          :percentage=\"storagePercentage\"\n          :color=\"storageColor\"\n          :show-text=\"false\"\n          :type=\"isCollapse ? 'circle' : 'line'\"\n          :width=\"32\"\n          :stroke-width=\"isCollapse ? 4 : 6\"\n          stroke-linecap=\"square\"\n      ></el-progress>\n      <div class=\"text\" v-show=\"!isCollapse\">\n        <span class=\"label\">Storage</span>\n        <span\n        >{{ storageValue | storageTrans }} /\n          {{ storageMaxValue | storageTrans(true) }}\n        </span>\n      </div>\n      <div class=\"text\" v-show=\"isCollapse\">\n        <!--<span></span>-->\n      </div>\n    </div>\n  </el-menu>\n</template>\n\n\n<script>\nexport default {\n  name: \"SideMenu\",\n  props: {\n    storageValue: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      isCollapse: false, // Controls menu collapse and expansion\n      storageMaxValue: Math.pow(1024, 3) * 100, // Default storage capacity, 100GB\n      // Custom progress bar color, different percentages have different colors\n      storageColor: [\n        { color: \"#89ea59\", percentage: 50 },\n        { color: \"#eea740\", percentage: 80 },\n        { color: \"#f35050\", percentage: 100 }\n      ]\n    };\n  },\n  computed: {\n    // The index of the currently active menu\n    activeIndex() {\n      return String(this.$route.query.fileType); // Get the file type included in the current route parameter\n    },\n    // Storage percentage\n    storagePercentage() {\n      return (this.storageValue / this.storageMaxValue) * 100;\n    }\n  },\n  watch: {\n    // Listen for changes in the collapse state, store in sessionStorage to maintain the state after page refresh\n    isCollapse(newValue) {\n      sessionStorage.setItem(\"isCollapse\", newValue);\n    }\n  },\n  filters: {\n    // Calculate space usage\n    storageTrans(size, status) {\n      const B = 1024;\n      const KB = Math.pow(1024, 2);\n      const MB = Math.pow(1024, 3);\n      const GB = Math.pow(1024, 4);\n      if (status) {\n        // Truncate to integer part\n        if (!size) {\n          return 0 + \"KB\";\n        } else if (size < KB) {\n          return (size / B).toFixed(0) + \"KB\";\n        } else if (size < MB) {\n          return (size / KB).toFixed(0) + \"MB\";\n        } else if (size < GB) {\n          return (size / MB).toFixed(0) + \"GB\";\n        } else {\n          return (size / GB).toFixed(0) + \"TB\";\n        }\n      } else {\n        if (!size) {\n          return 0 + \"KB\";\n        } else if (size < KB) {\n          return (size / B).toFixed(0) + \"KB\";\n        } else if (size < MB) {\n          return (size / KB).toFixed(2) + \"MB\";\n        } else if (size < GB) {\n          return (size / MB).toFixed(3) + \"GB\";\n        } else {\n          return (size / GB).toFixed(4) + \"TB\";\n        }\n      }\n    }\n  },\n  created() {\n    this.isCollapse = sessionStorage.getItem(\"isCollapse\") === \"true\"; // Retrieve saved state\n  }\n};\n</script>\n\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/style/mixins.styl';\n\n.side-menu {\n  // 高度设置为屏幕高度减去顶部导航栏的高度\n  height: 100vh;\n  overflow: auto;\n  // 调整滚动条样式\n  setScrollbar(6px, #909399, #EBEEF5);\n\n  // 折叠图标调整样式\n  .fold-wrapper {\n    height: 103px;\n    line-height: 56px;\n    padding: 0 20px;\n    text-align: right;\n    color: #343434;\n    font-size: 24px;\n\n    .el-icon-s-unfold, .el-icon-s-fold {\n      cursor: pointer;\n\n      &:hover {\n        opacity: 0.5;\n      }\n    }\n  }\n\n  // 存储空间展示区\n  .storage-wrapper {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 16px;\n    z-index: 2;\n    color: #224270;\n    opacity: 0.8;\n\n    .text {\n      margin-top: 8px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      font-size: 14px;\n    }\n  }\n}\n\n// 对展开状态下的菜单设置宽度\n.side-menu:not(.el-menu--collapse) {\n  width: 220px;\n}\n</style>\n"],"sourceRoot":"src/views/components"}]}