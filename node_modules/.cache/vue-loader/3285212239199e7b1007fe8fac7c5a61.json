{"remainingRequest":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mttest/Profile/mac-drive-web/src/views/components/SideMenu.vue?vue&type=style&index=0&id=dfbe7eb6&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/mttest/Profile/mac-drive-web/src/views/components/SideMenu.vue","mtime":1702442782900},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgJ35AL2Fzc2V0cy9zdHlsZS9taXhpbnMuc3R5bCc7Cgouc2lkZS1tZW51IHsKICAvLyDpq5jluqborr7nva7kuLrlsY/luZXpq5jluqblh4/ljrvpobbpg6jlr7zoiKrmoI/nmoTpq5jluqYKICBoZWlnaHQ6IDEwMHZoOwogIG92ZXJmbG93OiBhdXRvOwogIC8vIOiwg+aVtOa7muWKqOadoeagt+W8jwogIHNldFNjcm9sbGJhcig2cHgsICM5MDkzOTksICNFQkVFRjUpOwoKICAvLyDmipjlj6Dlm77moIfosIPmlbTmoLflvI8KICAuZm9sZC13cmFwcGVyIHsKICAgIGhlaWdodDogMTAzcHg7CiAgICBsaW5lLWhlaWdodDogNTZweDsKICAgIHBhZGRpbmc6IDAgMjBweDsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgY29sb3I6ICMzNDM0MzQ7CiAgICBmb250LXNpemU6IDI0cHg7CgogICAgLmVsLWljb24tcy11bmZvbGQsIC5lbC1pY29uLXMtZm9sZCB7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKCiAgICAgICY6aG92ZXIgewogICAgICAgIG9wYWNpdHk6IDAuNTsKICAgICAgfQogICAgfQogIH0KCiAgLy8g5a2Y5YKo56m66Ze05bGV56S65Yy6CiAgLnN0b3JhZ2Utd3JhcHBlciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBib3R0b206IDA7CiAgICBsZWZ0OiAwOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMTZweDsKICAgIHotaW5kZXg6IDI7CiAgICBjb2xvcjogIzIyNDI3MDsKICAgIG9wYWNpdHk6IDAuODsKCiAgICAudGV4dCB7CiAgICAgIG1hcmdpbi10b3A6IDhweDsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBmb250LXNpemU6IDE0cHg7CiAgICB9CiAgfQp9CgovLyDlr7nlsZXlvIDnirbmgIHkuIvnmoToj5zljZXorr7nva7lrr3luqYKLnNpZGUtbWVudTpub3QoLmVsLW1lbnUtLWNvbGxhcHNlKSB7CiAgd2lkdGg6IDIyMHB4Owp9Cg=="},{"version":3,"sources":["SideMenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"SideMenu.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n  <!-- collapse attribute: controls the menu collapse and expansion -->\n  <el-menu\n      class=\"side-menu\"\n      :default-active=\"activeIndex\"\n      :router=\"true\"\n      :collapse=\"isCollapse\"\n      background-color=\"#fff\"\n      text-color=\"#000\"\n      active-text-color=\"#2578b5\"\n  >\n    <div class=\"fold-wrapper\">\n      <!-- click event: toggle the menu collapse status when clicked -->\n      <i\n          class=\"el-icon-s-unfold\"\n          v-if=\"isCollapse\"\n          title=\"Expand\"\n          @click=\"isCollapse = false\"\n      ></i>\n      <i\n          class=\"el-icon-s-fold\"\n          v-else\n          title=\"Collapse\"\n          @click=\"isCollapse = true\"\n      ></i>\n    </div>\n    <el-submenu index=\"myFile\" class=\"my-file\">\n      <template slot=\"title\">\n        <!-- Icons are from the Element UI official icon library https://element.eleme.cn/#/zh-CN/component/icon -->\n        <i class=\"el-icon-files\"></i>\n        <span slot=\"title\">My Files</span>\n      </template>\n      <el-menu-item\n          index=\"0\"\n          :route=\"{ name: 'index', query: { fileType: 0, filePath: '/' } }\"\n      >\n        <i class=\"el-icon-menu\"></i>\n        <span slot=\"title\">All</span>\n      </el-menu-item>\n      <el-menu-item index=\"1\" :route=\"{ name: 'index', query: { fileType: 1 } }\">\n        <i class=\"el-icon-picture-outline\"></i>\n        <span slot=\"title\">Images</span>\n      </el-menu-item>\n      <el-menu-item index=\"2\" :route=\"{ name: 'index', query: { fileType: 2 } }\">\n        <i class=\"el-icon-document\"></i>\n        <span slot=\"title\">Documents</span>\n      </el-menu-item>\n      <el-menu-item index=\"3\" :route=\"{ name: 'index', query: { fileType: 3 } }\">\n        <i class=\"el-icon-video-camera\"></i>\n        <span slot=\"title\">Videos</span>\n      </el-menu-item>\n      <el-menu-item index=\"4\" :route=\"{ name: 'index', query: { fileType: 4 } }\">\n        <i class=\"el-icon-headset\"></i>\n        <span slot=\"title\">Music</span>\n      </el-menu-item>\n      <el-menu-item index=\"5\" :route=\"{ name: 'index', query: { fileType: 5 } }\">\n        <i class=\"el-icon-receiving\"></i>\n        <span slot=\"title\">Compressed</span>\n      </el-menu-item>\n\n      <el-menu-item index=\"6\" :route=\"{ name: 'index', query: { fileType: 6 } }\">\n        <i class=\"el-icon-takeaway-box\"></i>\n        <span slot=\"title\">Others</span>\n      </el-menu-item>\n    </el-submenu>\n\n    <el-menu-item index=\"8\" :route=\"{ name: 'index', query: { fileType: 8 } }\">\n      <i class=\"el-icon-delete\"></i>\n      <span slot=\"title\">Recycle Bin</span>\n    </el-menu-item>\n\n    <el-menu-item\n        index=\"9\"\n        :route=\"{ name: 'index', query: { fileType: 9, filePath: '/' } }\"\n    >\n      <i class=\"el-icon-share\"></i>\n      <span slot=\"title\">My Share</span>\n    </el-menu-item>\n\n    <div class=\"storage-wrapper\" :class=\"{ fold: isCollapse }\">\n      <el-progress\n          :percentage=\"storagePercentage\"\n          :color=\"storageColor\"\n          :show-text=\"false\"\n          :type=\"isCollapse ? 'circle' : 'line'\"\n          :width=\"32\"\n          :stroke-width=\"isCollapse ? 4 : 6\"\n          stroke-linecap=\"square\"\n      ></el-progress>\n      <div class=\"text\" v-show=\"!isCollapse\">\n        <span class=\"label\">Storage</span>\n        <span\n        >{{ storageValue | storageTrans }} /\n          {{ storageMaxValue | storageTrans(true) }}\n        </span>\n      </div>\n      <div class=\"text\" v-show=\"isCollapse\">\n        <!--<span></span>-->\n      </div>\n    </div>\n  </el-menu>\n</template>\n\n\n<script>\nexport default {\n  name: \"SideMenu\",\n  props: {\n    storageValue: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      isCollapse: false, // Controls menu collapse and expansion\n      storageMaxValue: Math.pow(1024, 3) * 100, // Default storage capacity, 100GB\n      // Custom progress bar color, different percentages have different colors\n      storageColor: [\n        { color: \"#89ea59\", percentage: 50 },\n        { color: \"#eea740\", percentage: 80 },\n        { color: \"#f35050\", percentage: 100 }\n      ]\n    };\n  },\n  computed: {\n    // The index of the currently active menu\n    activeIndex() {\n      return String(this.$route.query.fileType); // Get the file type included in the current route parameter\n    },\n    // Storage percentage\n    storagePercentage() {\n      return (this.storageValue / this.storageMaxValue) * 100;\n    }\n  },\n  watch: {\n    // Listen for changes in the collapse state, store in sessionStorage to maintain the state after page refresh\n    isCollapse(newValue) {\n      sessionStorage.setItem(\"isCollapse\", newValue);\n    }\n  },\n  filters: {\n    // Calculate space usage\n    storageTrans(size, status) {\n      const B = 1024;\n      const KB = Math.pow(1024, 2);\n      const MB = Math.pow(1024, 3);\n      const GB = Math.pow(1024, 4);\n      if (status) {\n        // Truncate to integer part\n        if (!size) {\n          return 0 + \"KB\";\n        } else if (size < KB) {\n          return (size / B).toFixed(0) + \"KB\";\n        } else if (size < MB) {\n          return (size / KB).toFixed(0) + \"MB\";\n        } else if (size < GB) {\n          return (size / MB).toFixed(0) + \"GB\";\n        } else {\n          return (size / GB).toFixed(0) + \"TB\";\n        }\n      } else {\n        if (!size) {\n          return 0 + \"KB\";\n        } else if (size < KB) {\n          return (size / B).toFixed(0) + \"KB\";\n        } else if (size < MB) {\n          return (size / KB).toFixed(2) + \"MB\";\n        } else if (size < GB) {\n          return (size / MB).toFixed(3) + \"GB\";\n        } else {\n          return (size / GB).toFixed(4) + \"TB\";\n        }\n      }\n    }\n  },\n  created() {\n    this.isCollapse = sessionStorage.getItem(\"isCollapse\") === \"true\"; // Retrieve saved state\n  }\n};\n</script>\n\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/style/mixins.styl';\n\n.side-menu {\n  // 高度设置为屏幕高度减去顶部导航栏的高度\n  height: 100vh;\n  overflow: auto;\n  // 调整滚动条样式\n  setScrollbar(6px, #909399, #EBEEF5);\n\n  // 折叠图标调整样式\n  .fold-wrapper {\n    height: 103px;\n    line-height: 56px;\n    padding: 0 20px;\n    text-align: right;\n    color: #343434;\n    font-size: 24px;\n\n    .el-icon-s-unfold, .el-icon-s-fold {\n      cursor: pointer;\n\n      &:hover {\n        opacity: 0.5;\n      }\n    }\n  }\n\n  // 存储空间展示区\n  .storage-wrapper {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 16px;\n    z-index: 2;\n    color: #224270;\n    opacity: 0.8;\n\n    .text {\n      margin-top: 8px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      font-size: 14px;\n    }\n  }\n}\n\n// 对展开状态下的菜单设置宽度\n.side-menu:not(.el-menu--collapse) {\n  width: 220px;\n}\n</style>\n"]}]}