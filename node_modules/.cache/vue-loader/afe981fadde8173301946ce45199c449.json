{"remainingRequest":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mttest/Profile/mac-drive-web/src/views/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mttest/Profile/mac-drive-web/src/views/index.vue","mtime":1702589934647},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTaWRlTWVudSBmcm9tICIuL2NvbXBvbmVudHMvU2lkZU1lbnUudnVlIjsgLy8gSW1wb3J0IHRoZSBsZWZ0IG1lbnUgY29tcG9uZW50CmltcG9ydCBCcmVhZENydW1iIGZyb20gIi4vY29tcG9uZW50cy9CcmVhZENydW1iLnZ1ZSI7IC8vIEltcG9ydCB0aGUgYnJlYWRjcnVtYiBuYXZpZ2F0aW9uIGJhcgppbXBvcnQgRmlsZVRhYmxlIGZyb20gIi4vY29tcG9uZW50cy9GaWxlVGFibGUudnVlIjsgLy8gSW1wb3J0IHRoZSBmaWxlIHRhYmxlIGRpc3BsYXkgYXJlYQppbXBvcnQgRmlsZVBhZ2luYXRpb24gZnJvbSAiLi9jb21wb25lbnRzL0ZpbGVQYWdpbmF0aW9uLnZ1ZSI7IC8vIEltcG9ydCB0aGUgcGFnaW5hdGlvbiBjb21wb25lbnQKaW1wb3J0IE9wZXJhdGlvbk1lbnUgZnJvbSAiLi9jb21wb25lbnRzL09wZXJhdGlvbk1lbnUudnVlIjsgLy8gSW1wb3J0IGZpbGUgY3JlYXRpb24gY29tcG9uZW50CmltcG9ydCBTaG93TW9kZWwgZnJvbSAiLi9jb21wb25lbnRzL1Nob3dNb2RlbC52dWUiOyAvLyBJbXBvcnQgdmlld2luZyBtb2RlIHN3aXRjaGluZyBjb21wb25lbnQKaW1wb3J0IEZpbGVHcmlkIGZyb20gIi4vY29tcG9uZW50cy9GaWxlR3JpZC52dWUiOyAvLyBJbXBvcnQgZ3JpZCBjb21wb25lbnQKaW1wb3J0IE1vdmVGaWxlRGlhbG9nIGZyb20gIi4vY29tcG9uZW50cy9Nb3ZlRmlsZURpYWxvZyI7IC8vIEltcG9ydCBtb3ZlIGZpbGUgY29tcG9uZW50CmltcG9ydCBJbWdSZXZpZXcgZnJvbSAiQC9jb21wb25lbnRzL0ltZ1JldmlldyI7IC8vIEltYWdlIHZpZXdpbmcKaW1wb3J0IFVzZXJIZWFkZXIgZnJvbSAiQC92aWV3cy9oZWFkZXIvVXNlckhlYWRlciI7IC8vIEhlYWRlcgppbXBvcnQgRmlsZVVwbG9hZGVyIGZyb20gIi4vY29tcG9uZW50cy9GaWxlVXBsb2FkZXIudnVlIjsgLy8gRmlsZSB1cGxvYWQgY29tcG9uZW50CmltcG9ydCBBdWRpb1JldmlldyBmcm9tICJAL2NvbXBvbmVudHMvQXVkaW9SZXZpZXciOyAvLyBBdWRpbyBwbGF5YmFjawppbXBvcnQgVmlkZW9QbGF5ZXIgZnJvbSAiQC9jb21wb25lbnRzL1ZpZGVvUGxheWVyIjsgLy8gVmlkZW8gcGxheWJhY2sKaW1wb3J0IENvZGVSZXZpZXcgZnJvbSAiQC9jb21wb25lbnRzL0NvZGVSZXZpZXciOyAvLyBDb2RlIHBsYXliYWNrCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKaW1wb3J0IHsKICBiYXRjaE1vdmVGaWxlLAogIGdldEZpbGVCeU5hbWUsCiAgZ2V0RmlsZUxpc3RCeVBhdGgsCiAgZ2V0RmlsZUxpc3RCeVR5cGUsCiAgZ2V0RmlsZVN0b3JhZ2UsCiAgZ2V0RmlsZVRyZWUsCiAgbW92ZUZpbGUKfSBmcm9tICJAL3JlcXVlc3QvZmlsZS5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIFZpZGVvUGxheWVyLAogICAgVXNlckhlYWRlciwKICAgIFNpZGVNZW51LAogICAgQnJlYWRDcnVtYiwKICAgIEZpbGVUYWJsZSwKICAgIEZpbGVQYWdpbmF0aW9uLAogICAgT3BlcmF0aW9uTWVudSwKICAgIFNob3dNb2RlbCwKICAgIEZpbGVHcmlkLAogICAgRmlsZVVwbG9hZGVyLAogICAgTW92ZUZpbGVEaWFsb2csCiAgICBJbWdSZXZpZXcsCiAgICBBdWRpb1JldmlldywKICAgIENvZGVSZXZpZXcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7fSwgLy8gVXNlciBpbmZvcm1hdGlvbgogICAgICBzdG9yYWdlVmFsdWU6IDAsIC8vIFN0b3JhZ2Ugc3BhY2UgdXNhZ2Ugc2l6ZQogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdGFibGVEYXRhOiBbXSwgLy8gRmlsZSBsaXN0CiAgICAgIHBhZ2VEYXRhOiB7CiAgICAgICAgY3VycmVudFBhZ2U6IDEsIC8vIFBhZ2UgbnVtYmVyCiAgICAgICAgcGFnZUNvdW50OiAxMCwgLy8gTnVtYmVyIG9mIGl0ZW1zIHBlciBwYWdlCiAgICAgICAgdG90YWw6IDAgLy8gVG90YWwgY291bnQKICAgICAgfSwKICAgICAgLy8gRGF0YSBmb3IgdGhlIG1vdmUgZmlsZSBtb2RhbCBkaWFsb2cKICAgICAgZGlhbG9nTW92ZUZpbGU6IHsKICAgICAgICB2aXNpYmxlOiBmYWxzZSwgLy8gV2hldGhlciB0aGUgZGlhbG9nIGlzIGRpc3BsYXllZAogICAgICAgIGZpbGVUcmVlOiBbXSAvLyBEaXJlY3RvcnkgdHJlZQogICAgICB9LAogICAgICBpc0JhdGNoOiBmYWxzZSwgLy8gV2hldGhlciBpdCBpcyBhIGJhdGNoIG9wZXJhdGlvbgogICAgICBvcGVyYXRpb25GaWxlOiB7fSwgLy8gSW5mb3JtYXRpb24gb2YgdGhlIGZpbGUgb3BlcmF0ZWQgb24gaW5kaXZpZHVhbGx5CiAgICAgIG9wZXJhdGlvbkZpbGVMaXN0OiBbXSwgLy8gSW5mb3JtYXRpb24gb2YgdGhlIGZpbGVzIG9wZXJhdGVkIG9uIGluIGJhdGNoCiAgICAgIHNlbGVjdEZpbGVQYXRoOiAiIiAvLyBUYXJnZXQgcGF0aAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyBGaWxlIHR5cGUgc2VsZWN0ZWQgaW4gdGhlIGxlZnQgbWVudQogICAgZmlsZVR5cGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5xdWVyeS5maWxlVHlwZQogICAgICAgID8gTnVtYmVyKHRoaXMuJHJvdXRlLnF1ZXJ5LmZpbGVUeXBlKQogICAgICAgIDogMDsKICAgIH0sCiAgICAvLyBWaWV3aW5nIG1vZGUKICAgIHNob3dNb2RlbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuc2hvd01vZGVsOwogICAgfSwKICAgIC8vIEN1cnJlbnQgcGF0aAogICAgZmlsZVBhdGgoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5xdWVyeS5maWxlUGF0aCA/IHRoaXMuJHJvdXRlLnF1ZXJ5LmZpbGVQYXRoIDogIi8iOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbGVUeXBlKCkgewogICAgICB0aGlzLmdldEZpbGVEYXRhKCk7IC8vIEdldCBmaWxlIGxpc3QKICAgIH0sCiAgICBmaWxlUGF0aCgpIHsKICAgICAgLy8gV2hlbiBzZWxlY3RpbmcgYWxsIGluIHRoZSBsZWZ0IG1lbnUsIGFuZCB0aGUgZmlsZSBwYXRoIGNoYW5nZXMsIGdldCB0aGUgZmlsZSBsaXN0IGFnYWluCiAgICAgIGlmICh0aGlzLmZpbGVUeXBlID09PSAwKSB7CiAgICAgICAgdGhpcy5nZXRGaWxlRGF0YSgpOyAvLyBHZXQgZmlsZSBsaXN0CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEZpbGVEYXRhKCk7IC8vIEdldCBmaWxlIGxpc3QKICAgIHRoaXMuY3JlYXRlZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8gVXBsb2FkIGZpbGUgYnV0dG9uIGNsaWNrIGV2ZW50CiAgICBoYW5kbGVVcGxvYWRGaWxlKCkgewogICAgICAvLyBUcmlnZ2VyIHRoZSBldmVudCB0byBvcGVuIHRoZSBmaWxlIHVwbG9hZCB3aW5kb3cgaW4gdGhlIGNoaWxkIGNvbXBvbmVudAogICAgICB0aGlzLiRyZWZzLmdsb2JhbFVwbG9hZGVyLnRyaWdnZXJTZWxlY3RGaWxlQ2xpY2soKTsKICAgIH0sCiAgICAvLyBHZXQgdXNlciBpbmZvcm1hdGlvbgogICAgY3JlYXRlZCgpIHsKICAgICAgYXhpb3MuZ2V0KCIvYXBpL2FkbWluL2luZm8iKS50aGVuKHJlc3AgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3ApOwogICAgICAgIHRoaXMudXNlciA9IHJlc3A7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy51c2VyKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gR2V0IGZpbGUgbGlzdAogICAgZ2V0RmlsZURhdGEoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7IC8vIE9wZW4gdGFibGUgbG9hZGluZyBzdGF0dXMKICAgICAgaWYgKHRoaXMuZmlsZVR5cGUgPT09IDApIHsKICAgICAgICAvLyBXaGVuICdBbGwnIGlzIHNlbGVjdGVkIGluIHRoZSBsZWZ0IG1lbnUsIGdldCB0aGUgZmlsZSBsaXN0IGJ5IHBhdGgKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmdldEZpbGVEYXRhQnlQYXRoKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gV2hlbiBhIHR5cGUgb3RoZXIgdGhhbiAnQWxsJyBpcyBzZWxlY3RlZCBpbiB0aGUgbGVmdCBtZW51LCBnZXQgdGhlIGZpbGUgbGlzdCBieSB0eXBlCiAgICAgICAgdGhpcy5nZXRGaWxlRGF0YUJ5VHlwZSgpOwogICAgICB9CiAgICAgIHRoaXMuZ2V0U3RvcmFnZVZhbHVlKCk7IC8vIEdldCBmaWxlIHN0b3JhZ2Ugc3BhY2UKICAgIH0sCiAgICAvLyBHZXQgZmlsZSBzdG9yYWdlIHNwYWNlCiAgICBnZXRTdG9yYWdlVmFsdWUoKSB7CiAgICAgIGdldEZpbGVTdG9yYWdlKCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuc3RvcmFnZVZhbHVlID0gcmVzLmRhdGEgPyBOdW1iZXIocmVzLmRhdGEpIDogMDsKICAgICAgfSk7CiAgICB9LAogICAgLy8gR2V0IGZpbGUgbGlzdCBieSBwYXRoCiAgICBnZXRGaWxlRGF0YUJ5UGF0aCgpIHsKICAgICAgZ2V0RmlsZUxpc3RCeVBhdGgoewogICAgICAgIGZpbGVQYXRoOiB0aGlzLmZpbGVQYXRoLCAvLyBQYXNzIHRoZSBjdXJyZW50IHBhdGgKICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5wYWdlRGF0YS5jdXJyZW50UGFnZSwKICAgICAgICBwYWdlQ291bnQ6IHRoaXMucGFnZURhdGEucGFnZUNvdW50CiAgICAgIH0pLnRoZW4oCiAgICAgICAgcmVzID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsgLy8gQ2xvc2UgdGFibGUgbG9hZGluZyBzdGF0dXMKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEubGlzdDsgLy8gQXNzaWduIHRhYmxlIGRhdGEKICAgICAgICAgIHRoaXMucGFnZURhdGEudG90YWwgPSByZXMuZGF0YS50b3RhbDsgLy8gQXNzaWduIHRvdGFsIGNvdW50IHRvIHBhZ2luYXRpb24gY29tcG9uZW50CiAgICAgICAgfSwKICAgICAgICBlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgLy8gR2V0IGZpbGUgbGlzdCBieSB0eXBlCiAgICBnZXRGaWxlRGF0YUJ5VHlwZSgpIHsKICAgICAgZ2V0RmlsZUxpc3RCeVR5cGUoewogICAgICAgIGZpbGVUeXBlOiB0aGlzLmZpbGVUeXBlLCAvLyBGaWxlIHR5cGUKICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5wYWdlRGF0YS5jdXJyZW50UGFnZSwgLy8gQ3VycmVudCBwYWdlIG51bWJlcgogICAgICAgIHBhZ2VDb3VudDogdGhpcy5wYWdlRGF0YS5wYWdlQ291bnQgLy8gTnVtYmVyIG9mIGl0ZW1zIHBlciBwYWdlCiAgICAgIH0pLnRoZW4oCiAgICAgICAgcmVzID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOyAvLyBDbG9zZSB0YWJsZSBsb2FkaW5nIHN0YXR1cwogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5saXN0OyAvLyBBc3NpZ24gdGFibGUgZGF0YQogICAgICAgICAgdGhpcy5wYWdlRGF0YS50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOyAvLyBBc3NpZ24gdG90YWwgY291bnQgdG8gcGFnaW5hdGlvbiBjb21wb25lbnQKICAgICAgICB9LAogICAgICAgIGVycm9yID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICAvLyBGdXp6eSBzZWFyY2ggdG8gZ2V0IGZpbGUgbGlzdAogICAgZ2V0RmlsZUJ5TmFtZSgpIHsKICAgICAgZ2V0RmlsZUJ5TmFtZSh7CiAgICAgICAgZmlsZU5hbWU6ICI3IiwgLy8gRmlsZSBuYW1lCiAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMucGFnZURhdGEuY3VycmVudFBhZ2UsIC8vIEN1cnJlbnQgcGFnZSBudW1iZXIKICAgICAgICBwYWdlQ291bnQ6IHRoaXMucGFnZURhdGEucGFnZUNvdW50IC8vIE51bWJlciBvZiBpdGVtcyBwZXIgcGFnZQogICAgICB9KS50aGVuKAogICAgICAgIHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsgLy8gQ2xvc2UgdGFibGUgbG9hZGluZyBzdGF0dXMKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEubGlzdDsgLy8gQXNzaWduIHRhYmxlIGRhdGEKICAgICAgICAgIHRoaXMucGFnZURhdGEudG90YWwgPSByZXMuZGF0YS50b3RhbDsgLy8gQXNzaWduIHRvdGFsIGNvdW50IHRvIHBhZ2luYXRpb24gY29tcG9uZW50CiAgICAgICAgfSwKICAgICAgICBlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgLy8gUGFnaW5hdGlvbiBjb21wb25lbnQgLSBXaGVuIHBhZ2UgbnVtYmVyIG9yIGl0ZW1zIHBlciBwYWdlIGNoYW5nZQogICAgY2hhbmdlUGFnZURhdGEocGFnZURhdGEpIHsKICAgICAgdGhpcy5wYWdlRGF0YS5jdXJyZW50UGFnZSA9IHBhZ2VEYXRhLmN1cnJlbnRQYWdlOyAvLyBBc3NpZ24gcGFnZSBudW1iZXIKICAgICAgdGhpcy5wYWdlRGF0YS5wYWdlQ291bnQgPSBwYWdlRGF0YS5wYWdlQ291bnQ7IC8vIEFzc2lnbiBudW1iZXIgb2YgaXRlbXMgcGVyIHBhZ2UKICAgICAgdGhpcy5nZXRGaWxlRGF0YSgpOyAvLyBHZXQgZmlsZSBsaXN0CiAgICB9LAogICAgLyoqCiAgICAgKiBTZXQgZmlsZSBpbmZvcm1hdGlvbiBmb3IgbW92aW5nIGZpbGVzCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQmF0Y2ggV2hldGhlciBpdCBpcyBhIGJhdGNoIG1vdmUsIHRydWUgZm9yIGJhdGNoLCBmYWxzZSBmb3IgaW5kaXZpZHVhbCBmaWxlIG9wZXJhdGlvbgogICAgICogQHBhcmFtIHtPYmplY3QgfCBBcnJheX0gZmlsZSBJbmZvcm1hdGlvbiBvZiB0aGUgZmlsZSB0byBtb3ZlLCBPYmplY3QgZm9yIGluZGl2aWR1YWwgb3BlcmF0aW9uLCBBcnJheSBmb3IgYmF0Y2ggb3BlcmF0aW9uCiAgICAgKi8KICAgIHNldE9wZXJhdGlvbkZpbGUoaXNCYXRjaCwgZmlsZSkgewogICAgICB0aGlzLmlzQmF0Y2ggPSBpc0JhdGNoOyAvLyBTYXZlIHRoZSBvcGVyYXRpb24gdHlwZQogICAgICBpZiAoaXNCYXRjaCkgewogICAgICAgIHRoaXMub3BlcmF0aW9uRmlsZUxpc3QgPSBmaWxlOyAvLyBCYXRjaCBvcGVyYXRpb24gZmlsZXMKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9wZXJhdGlvbkZpbGUgPSBmaWxlOyAvLyBJbmRpdmlkdWFsIG9wZXJhdGlvbiBmaWxlCiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIFNldCBkYXRhIHJlbGF0ZWQgdG8gdGhlIG1vdmUgZmlsZSBkaWFsb2cKICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdmlzaWJsZSBPcGVuL0Nsb3NlIG1vdmUgZmlsZSBtb2RhbCBkaWFsb2cKICAgICAqLwogICAgc2V0TW92ZUZpbGVEaWFsb2codmlzaWJsZSkgewogICAgICB0aGlzLmRpYWxvZ01vdmVGaWxlLnZpc2libGUgPSB2aXNpYmxlOyAvLyBPcGVuIHRoZSBkaWFsb2cKICAgICAgaWYgKHZpc2libGUpIHsKICAgICAgICAvLyBXaGVuIG9wZW5pbmcgdGhlIGRpYWxvZywgZ2V0IHRoZSBmb2xkZXIgZGlyZWN0b3J5IHRyZWUKICAgICAgICBnZXRGaWxlVHJlZSgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nTW92ZUZpbGUuZmlsZVRyZWUgPSBbcmVzLmRhdGFdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuY29kZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBTZXQgdGhlIHRhcmdldCBwYXRoIGZvciBtb3ZpbmcgZmlsZXMKICAgIHNldFNlbGVjdEZpbGVQYXRoKHNlbGVjdEZpbGVQYXRoKSB7CiAgICAgIHRoaXMuc2VsZWN0RmlsZVBhdGggPSBzZWxlY3RGaWxlUGF0aDsKICAgIH0sCiAgICAvLyBNb3ZlIGZpbGUgbW9kYWwgZGlhbG9nIC0gQ29uZmlybSBidXR0b24gZXZlbnQKICAgIGNvbmZpcm1Nb3ZlRmlsZSgpIHsKICAgICAgaWYgKHRoaXMuaXNCYXRjaCkgewogICAgICAgIC8vIEJhdGNoIG1vdmUKICAgICAgICBiYXRjaE1vdmVGaWxlKHsKICAgICAgICAgIGZpbGVQYXRoOiB0aGlzLnNlbGVjdEZpbGVQYXRoLAogICAgICAgICAgZmlsZXM6IEpTT04uc3RyaW5naWZ5KHRoaXMub3BlcmF0aW9uRmlsZUxpc3QpCiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5nZXRGaWxlRGF0YSgpOyAvLyBSZWZyZXNoIGZpbGUgbGlzdAogICAgICAgICAgICB0aGlzLmRpYWxvZ01vdmVGaWxlLnZpc2libGUgPSBmYWxzZTsgLy8gQ2xvc2UgZGlhbG9nCiAgICAgICAgICAgIHRoaXMub3BlcmF0aW9uRmlsZUxpc3QgPSBbXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFNpbmdsZSBmaWxlIG1vdmUKICAgICAgICBtb3ZlRmlsZSh7CiAgICAgICAgICBpZDogdGhpcy5vcGVyYXRpb25GaWxlLmlkLCAvLyBGaWxlIElECiAgICAgICAgICBmaWxlX25hbWU6IHRoaXMub3BlcmF0aW9uRmlsZS5maWxlX25hbWUsIC8vIEZpbGUgbmFtZQogICAgICAgICAgZmlsZV91cmw6IHRoaXMuc2VsZWN0RmlsZVBhdGggLy8gVGFyZ2V0IHBhdGgKICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5nZXRGaWxlRGF0YSgpOyAvLyBSZWZyZXNoIGZpbGUgbGlzdAogICAgICAgICAgICB0aGlzLmRpYWxvZ01vdmVGaWxlLnZpc2libGUgPSBmYWxzZTsgLy8gQ2xvc2UgZGlhbG9nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- Left menu - Distinguish file types -->\n    <SideMenu class=\"home-left\" :storageValue=\"storageValue\"></SideMenu>\n    <!-- Right content area -->\n    <div class=\"home-right\">\n      <UserHeader style=\"height: 100px\" :user=\"user\"></UserHeader>\n      <!-- Breadcrumb navigation bar -->\n      <BreadCrumb :fileType=\"fileType\" style=\"height: 30px\"></BreadCrumb>\n      <router-view />\n      <div class=\"right-main\" v-if=\"this.$route.path === '/index'\">\n        <div class=\"operation-wrapper\">\n          <OperationMenu\n            :fileType=\"fileType\"\n            :filePath=\"filePath\"\n            @getTableData=\"getFileData\"\n            @handleUploadFile=\"handleUploadFile\"\n            @handleSelectFile=\"setOperationFile\"\n            @handleMoveFile=\"setMoveFileDialog\"\n            :operationFileList=\"operationFileList\"\n          ></OperationMenu>\n          <FileUploader\n            ref=\"globalUploader\"\n            @getTableData=\"getFileData\"\n          ></FileUploader>\n          <!-- Viewing mode switch component, pass fileType to the child component -->\n          <ShowModel :fileType=\"fileType\"></ShowModel>\n        </div>\n        <!-- File table display area -->\n        <FileTable\n          v-if=\"showModel === 0\"\n          :tableData=\"tableData\"\n          :fileType=\"fileType\"\n          :loading=\"loading\"\n          @getTableData=\"getFileData\"\n          @handleSelectFile=\"setOperationFile\"\n          @handleMoveFile=\"setMoveFileDialog\"\n        ></FileTable>\n        <FileGrid\n          v-if=\"showModel === 1\"\n          :tableData=\"tableData\"\n          :loading=\"loading\"\n        ></FileGrid>\n        <!-- Pagination component -->\n        <FilePagination\n          style=\"position:absolute; bottom:0;padding-bottom: 20px\"\n          :pageData=\"pageData\"\n          @changePageData=\"changePageData\"\n        ></FilePagination>\n        <!-- Move file modal dialog -->\n        <MoveFileDialog\n          :dialogMoveFile=\"dialogMoveFile\"\n          @setSelectFilePath=\"setSelectFilePath\"\n          @confirmMoveFile=\"confirmMoveFile\"\n          @handleMoveFile=\"setMoveFileDialog\"\n        ></MoveFileDialog>\n        <!-- Streaming file online viewing components -->\n        <ImgReview></ImgReview>\n        <AudioReview></AudioReview>\n        <VideoPlayer></VideoPlayer>\n        <CodeReview></CodeReview>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport SideMenu from \"./components/SideMenu.vue\"; // Import the left menu component\nimport BreadCrumb from \"./components/BreadCrumb.vue\"; // Import the breadcrumb navigation bar\nimport FileTable from \"./components/FileTable.vue\"; // Import the file table display area\nimport FilePagination from \"./components/FilePagination.vue\"; // Import the pagination component\nimport OperationMenu from \"./components/OperationMenu.vue\"; // Import file creation component\nimport ShowModel from \"./components/ShowModel.vue\"; // Import viewing mode switching component\nimport FileGrid from \"./components/FileGrid.vue\"; // Import grid component\nimport MoveFileDialog from \"./components/MoveFileDialog\"; // Import move file component\nimport ImgReview from \"@/components/ImgReview\"; // Image viewing\nimport UserHeader from \"@/views/header/UserHeader\"; // Header\nimport FileUploader from \"./components/FileUploader.vue\"; // File upload component\nimport AudioReview from \"@/components/AudioReview\"; // Audio playback\nimport VideoPlayer from \"@/components/VideoPlayer\"; // Video playback\nimport CodeReview from \"@/components/CodeReview\"; // Code playback\n\nimport axios from \"axios\";\n\nimport {\n  batchMoveFile,\n  getFileByName,\n  getFileListByPath,\n  getFileListByType,\n  getFileStorage,\n  getFileTree,\n  moveFile\n} from \"@/request/file.js\";\n\nexport default {\n  name: \"Home\",\n  components: {\n    VideoPlayer,\n    UserHeader,\n    SideMenu,\n    BreadCrumb,\n    FileTable,\n    FilePagination,\n    OperationMenu,\n    ShowModel,\n    FileGrid,\n    FileUploader,\n    MoveFileDialog,\n    ImgReview,\n    AudioReview,\n    CodeReview\n  },\n  data() {\n    return {\n      user: {}, // User information\n      storageValue: 0, // Storage space usage size\n      loading: false,\n      tableData: [], // File list\n      pageData: {\n        currentPage: 1, // Page number\n        pageCount: 10, // Number of items per page\n        total: 0 // Total count\n      },\n      // Data for the move file modal dialog\n      dialogMoveFile: {\n        visible: false, // Whether the dialog is displayed\n        fileTree: [] // Directory tree\n      },\n      isBatch: false, // Whether it is a batch operation\n      operationFile: {}, // Information of the file operated on individually\n      operationFileList: [], // Information of the files operated on in batch\n      selectFilePath: \"\" // Target path\n    };\n  },\n  computed: {\n    // File type selected in the left menu\n    fileType() {\n      return this.$route.query.fileType\n        ? Number(this.$route.query.fileType)\n        : 0;\n    },\n    // Viewing mode\n    showModel() {\n      return this.$store.getters.showModel;\n    },\n    // Current path\n    filePath() {\n      return this.$route.query.filePath ? this.$route.query.filePath : \"/\";\n    }\n  },\n  watch: {\n    fileType() {\n      this.getFileData(); // Get file list\n    },\n    filePath() {\n      // When selecting all in the left menu, and the file path changes, get the file list again\n      if (this.fileType === 0) {\n        this.getFileData(); // Get file list\n      }\n    }\n  },\n  mounted() {\n    this.getFileData(); // Get file list\n    this.created();\n  },\n  methods: {\n    // Upload file button click event\n    handleUploadFile() {\n      // Trigger the event to open the file upload window in the child component\n      this.$refs.globalUploader.triggerSelectFileClick();\n    },\n    // Get user information\n    created() {\n      axios.get(\"/api/admin/info\").then(resp => {\n        // console.log(resp);\n        this.user = resp;\n        // console.log(this.user);\n      });\n    },\n    // Get file list\n    getFileData() {\n      this.loading = true; // Open table loading status\n      if (this.fileType === 0) {\n        // When 'All' is selected in the left menu, get the file list by path\n        this.loading = false;\n        this.getFileDataByPath();\n      } else {\n        // When a type other than 'All' is selected in the left menu, get the file list by type\n        this.getFileDataByType();\n      }\n      this.getStorageValue(); // Get file storage space\n    },\n    // Get file storage space\n    getStorageValue() {\n      getFileStorage().then(res => {\n        this.storageValue = res.data ? Number(res.data) : 0;\n      });\n    },\n    // Get file list by path\n    getFileDataByPath() {\n      getFileListByPath({\n        filePath: this.filePath, // Pass the current path\n        currentPage: this.pageData.currentPage,\n        pageCount: this.pageData.pageCount\n      }).then(\n        res => {\n          // console.log(res);\n          this.loading = false; // Close table loading status\n          this.tableData = res.data.list; // Assign table data\n          this.pageData.total = res.data.total; // Assign total count to pagination component\n        },\n        error => {\n          this.loading = false;\n          console.log(error);\n        }\n      );\n    },\n    // Get file list by type\n    getFileDataByType() {\n      getFileListByType({\n        fileType: this.fileType, // File type\n        currentPage: this.pageData.currentPage, // Current page number\n        pageCount: this.pageData.pageCount // Number of items per page\n      }).then(\n        res => {\n          this.loading = false; // Close table loading status\n          this.tableData = res.data.list; // Assign table data\n          this.pageData.total = res.data.total; // Assign total count to pagination component\n        },\n        error => {\n          this.loading = false;\n          console.log(error);\n        }\n      );\n    },\n    // Fuzzy search to get file list\n    getFileByName() {\n      getFileByName({\n        fileName: \"7\", // File name\n        currentPage: this.pageData.currentPage, // Current page number\n        pageCount: this.pageData.pageCount // Number of items per page\n      }).then(\n        res => {\n          this.loading = false; // Close table loading status\n          this.tableData = res.data.list; // Assign table data\n          this.pageData.total = res.data.total; // Assign total count to pagination component\n        },\n        error => {\n          this.loading = false;\n          console.log(error);\n        }\n      );\n    },\n    // Pagination component - When page number or items per page change\n    changePageData(pageData) {\n      this.pageData.currentPage = pageData.currentPage; // Assign page number\n      this.pageData.pageCount = pageData.pageCount; // Assign number of items per page\n      this.getFileData(); // Get file list\n    },\n    /**\n     * Set file information for moving files\n     * @param {Boolean} isBatch Whether it is a batch move, true for batch, false for individual file operation\n     * @param {Object | Array} file Information of the file to move, Object for individual operation, Array for batch operation\n     */\n    setOperationFile(isBatch, file) {\n      this.isBatch = isBatch; // Save the operation type\n      if (isBatch) {\n        this.operationFileList = file; // Batch operation files\n      } else {\n        this.operationFile = file; // Individual operation file\n      }\n    },\n    /**\n     * Set data related to the move file dialog\n     * @param {Boolean} visible Open/Close move file modal dialog\n     */\n    setMoveFileDialog(visible) {\n      this.dialogMoveFile.visible = visible; // Open the dialog\n      if (visible) {\n        // When opening the dialog, get the folder directory tree\n        getFileTree().then(res => {\n          if (res.code === 200) {\n            this.dialogMoveFile.fileTree = [res.data];\n          } else {\n            this.$message.error(res.code);\n          }\n        });\n      }\n    },\n    // Set the target path for moving files\n    setSelectFilePath(selectFilePath) {\n      this.selectFilePath = selectFilePath;\n    },\n    // Move file modal dialog - Confirm button event\n    confirmMoveFile() {\n      if (this.isBatch) {\n        // Batch move\n        batchMoveFile({\n          filePath: this.selectFilePath,\n          files: JSON.stringify(this.operationFileList)\n        }).then(res => {\n          if (res.code === 200) {\n            this.getFileData(); // Refresh file list\n            this.dialogMoveFile.visible = false; // Close dialog\n            this.operationFileList = [];\n          } else {\n            this.$message.error(res.message);\n          }\n        });\n      } else {\n        // Single file move\n        moveFile({\n          id: this.operationFile.id, // File ID\n          file_name: this.operationFile.file_name, // File name\n          file_url: this.selectFilePath // Target path\n        }).then(res => {\n          // console.log(res);\n          if (res.code === 200) {\n            this.getFileData(); // Refresh file list\n            this.dialogMoveFile.visible = false; // Close dialog\n          } else {\n            this.$message.error(res.message);\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n\n\n<style lang=\"stylus\" scoped>\n.home {\n  // 使用flex布局 菜单居左固定宽度 右侧内容区域自适应宽度\n  background-color: #eef0f4;\n  display: flex;\n  margin: 0;\n  padding: 0;\n  font-family: Arial, Helvetica, sans-serif;\n\n  .home-left {\n    box-sizing: border-box;\n  }\n\n  .home-right {\n    box-sizing: border-box;\n    width: calc(100vh - 220px);\n    padding-left: 20px;\n    padding-right: 20px;\n    flex: 1;\n\n    .operation-wrapper {\n      padding-top 10px\n      margin-bottom: 16px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      // 左侧菜单按钮组 样式调整\n      >>> .operation-menu-wrapper {\n        flex: 1;\n      }\n    }\n\n    .right-main {\n      border-top-right-radius 15px\n      border-top-left-radius 15px\n      padding-right 10px\n      padding-left 10px\n      background-color white\n      height calc(100vh - 130px)\n    }\n  }\n}\n</style>\n"]}]}