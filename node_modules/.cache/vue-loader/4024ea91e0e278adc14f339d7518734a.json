{"remainingRequest":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mttest/Profile/mac-drive-web/src/views/components/FileGrid.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mttest/Profile/mac-drive-web/src/views/components/FileGrid.vue","mtime":1701827905864},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRlbGV0ZUZpbGUsIHJlbmFtZUZpbGUgfSBmcm9tICJAL3JlcXVlc3QvZmlsZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZpbGVHcmlkIiwKICBwcm9wczogewogICAgLy8g5paH5Lu25pWw5o2uCiAgICB0YWJsZURhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLy8g5Yqg6L2954q25oCBCiAgICBsb2FkaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wZXJhQ29sdW1uSXNGb2xkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJvcGVyYUNvbHVtbklzRm9sZCIpIHx8IGZhbHNlLCAvLyAg6KGo5qC85pON5L2c5YiXLeaYr+WQpuaUtue8qQogICAgICAvLyAg5paH5Lu25Zu+54mHTWFw5pig5bCECiAgICAgIGZpbGVJbWdNYXA6IHsKICAgICAgICBjc3Y6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX2Nzdi5wbmciKSwKICAgICAgICBkb2M6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX3dvcmQuc3ZnIiksCiAgICAgICAgZXhjZWw6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX2V4Y2VsLnN2ZyIpLAogICAgICAgIGV4ZTogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfZXhlLnBuZyIpLAogICAgICAgIGdpZjogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfZ2lmLnBuZyIpLAogICAgICAgIGh0bWw6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX2h0bWwucG5nIiksCiAgICAgICAganNvbjogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfanNvbi5wbmciKSwKICAgICAgICBtcDM6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX211c2ljLnBuZyIpLAogICAgICAgIGZsYWM6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX211c2ljLnBuZyIpLAogICAgICAgIG90aGVyOiByZXF1aXJlKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2ZpbGUvZmlsZV91bmtub3duLnBuZyIpLAogICAgICAgIHBkZjogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfcGRmLnBuZyIpLAogICAgICAgIHBwdDogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfcHB0LnN2ZyIpLAogICAgICAgIHJhcjogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfcmFyLnBuZyIpLAogICAgICAgIHN2ZzogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfc3ZnLnBuZyIpLAogICAgICAgIGZvbGQ6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9kaXIucG5nIiksCiAgICAgICAgdHh0OiByZXF1aXJlKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2ZpbGUvZmlsZV90eHQucG5nIiksCiAgICAgICAgemlwOiByZXF1aXJlKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2ZpbGUvZmlsZV96aXAucG5nIiksCiAgICAgICAgd2F2OiByZXF1aXJlKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2ZpbGUvZmlsZV9tdXNpYy5wbmciKSwKICAgICAgICBtcDQ6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX2F2aS5wbmciKQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOihqOagvOaYvuekuuWIlwogICAgc2VsZWN0ZWRDb2x1bW5MaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5zZWxlY3RlZENvbHVtbkxpc3Q7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCs5pS257yp54q25oCB5Y+Y5YyW77yM5a2Y5YKo5Zyoc2Vzc2lvblN0b3JhZ2XkuK3vvIzkv53or4HpobXpnaLliLfmlrDml7bku43nhLbkv53lrZjorr7nva7nmoTnirbmgIEKICAgIG9wZXJhQ29sdW1uSXNGb2xkKG5ld1ZhbHVlKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIm9wZXJhQ29sdW1uSXNGb2xkIiwgbmV3VmFsdWUpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMub3BlcmFDb2x1bW5Jc0ZvbGQgPQogICAgICBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJvcGVyYUNvbHVtbklzRm9sZCIpID09PSAidHJ1ZSI7IC8vICDor7vlj5bkv53lrZjnmoTnirbmgIEKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vICDmoLnmja7mlofku7bmianlsZXlkI3orr7nva7mlofku7blm77niYcKICAgIHNldEZpbGVJbWcocm93KSB7CiAgICAgIGlmIChyb3cuX2RpcmVjdG9yeSkgewogICAgICAgIC8vICDmlofku7blpLkKICAgICAgICByZXR1cm4gdGhpcy5maWxlSW1nTWFwLmZvbGQ7CiAgICAgIH0gZWxzZSBpZiAoWyJqcGciLCAicG5nIiwgImpwZWciLCAiZ2lmIl0uaW5jbHVkZXMocm93LmZpbGVfdHlwZSkpIHsKICAgICAgICAvLyDlm77niYfnsbvlnovvvIznm7TmjqXmmL7npLrnvKnnlaXlm74KICAgICAgICByZXR1cm4gdGhpcy5nZXRUaHVtYm5haWxQYXRoKHJvdy5pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZmlsZVR5cGVNYXAgPSB7CiAgICAgICAgICBwcHR4OiAicHB0IiwKICAgICAgICAgIGRvYzogIndvcmQiLAogICAgICAgICAgZG9jeDogImRvYyIsCiAgICAgICAgICB4bHM6ICJleGNlbCIsCiAgICAgICAgICB4bHN4OiAiZXhjZWwiCiAgICAgICAgfTsKICAgICAgICAvLyAg5Y+v5Lul6K+G5Yir5paH5Lu257G75Z6L55qE5paH5Lu2CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIHRoaXMuZmlsZUltZ01hcFtyb3cuZmlsZV90eXBlXSB8fAogICAgICAgICAgdGhpcy5maWxlSW1nTWFwW2ZpbGVUeXBlTWFwW3Jvdy5maWxlX3R5cGVdXSB8fAogICAgICAgICAgdGhpcy5maWxlSW1nTWFwLm90aGVyCiAgICAgICAgKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaWh+S7tuWQjeeCueWHu+S6i+S7tgogICAgaGFuZGxlRmlsZU5hbWVDbGljayhyb3cpIHsKICAgICAgLy8gIOiLpeaYr+ebruW9leWImei/m+WFpeebruW9lQogICAgICBpZiAocm93Ll9kaXJlY3RvcnkpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBmaWxlUGF0aDogYCR7cm93LmZpbGVfdXJsfSR7cm93LmZpbGVfbmFtZX0vYCwKICAgICAgICAgICAgZmlsZVR5cGU6IDAKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChbImpwZyIsICJwbmciLCAianBlZyJdLmluY2x1ZGVzKHJvdy5maWxlX3R5cGUpKSB7CiAgICAgICAgLy8g6Kem5Y+R5Zu+54mH5Zyo57q/5p+l55yLCiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICBpbWdSZXZpZXdWaXNpYmxlOiB0cnVlLAogICAgICAgICAgaW1nUmV2aWV3TGlzdDogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgZmlsZVVybDogdGhpcy5nZXRUaHVtYm5haWxQYXRoKHJvdy5pZCksCiAgICAgICAgICAgICAgZG93bmxvYWRMaW5rOiB0aGlzLmdldFRodW1ibmFpbFBhdGgocm93LmlkKSwKICAgICAgICAgICAgICBmaWxlTmFtZTogcm93LmZpbGVfbmFtZSwKICAgICAgICAgICAgICBleHRlbmROYW1lOiByb3cuZmlsZV90eXBlCiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICBhY3RpdmVJbmRleDogMAogICAgICAgIH07CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJbWdSZXZpZXdEYXRhIiwgZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAoWyJtcDMiLCAiZmxhYyIsICJ3YXYiXS5pbmNsdWRlcyhyb3cuZmlsZV90eXBlKSkgewogICAgICAgIC8vIOinpuWPkemfs+mikQogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgYXVkaW9SZXZpZXdWaXNpYmxlOiB0cnVlLAogICAgICAgICAgYXVkaW9SZXZpZXdMaXN0OiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBmaWxlVXJsOiB0aGlzLmdldFRodW1ibmFpbFBhdGgocm93LmlkKSwKICAgICAgICAgICAgICBkb3dubG9hZExpbms6IHRoaXMuZ2V0VGh1bWJuYWlsUGF0aChyb3cuaWQpLAogICAgICAgICAgICAgIGZpbGVuYW1lOiByb3cuZmlsZV9uYW1lICsgIi4iICsgcm93LmZpbGVfdHlwZQogICAgICAgICAgICB9CiAgICAgICAgICBdLAogICAgICAgICAgYWN0aXZlSW5kZXg6IDAKICAgICAgICB9OwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0QXVkaW9SZXZpZXdEYXRhIiwgZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAoWyJtcDQiLCAid212Il0uaW5jbHVkZXMocm93LmZpbGVfdHlwZSkpIHsKICAgICAgICAvLyDop4bpopEKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICB1cmw6IHRoaXMuZ2V0VGh1bWJuYWlsUGF0aChyb3cuaWQpLAogICAgICAgICAgZmlsZW5hbWU6IHJvdy5maWxlX25hbWUgKyAiLiIgKyByb3cuZmlsZV90eXBlCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFZpZGVvUmV2aWV3RGF0YSIsIGRhdGEpOwogICAgICB9IGVsc2UgaWYgKFsidHh0IiwgImpzIl0uaW5jbHVkZXMocm93LmZpbGVfdHlwZSkpIHsKICAgICAgICAvLyDmlofmnKzmlofku7YKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIGNvZGVSZXZpZXdWaXNpYmxlOiB0cnVlLAogICAgICAgICAgZmlsZUlkOiByb3cuaWQsCiAgICAgICAgICBmaWxlbmFtZTogcm93LmZpbGVfbmFtZSArICIuIiArIHJvdy5maWxlX3R5cGUKICAgICAgICB9OwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Q29kZVJldmlld0RhdGEiLCBkYXRhKTsKICAgICAgfSBlbHNlIGlmICgKICAgICAgICBbInBwdCIsICJwcHR4IiwgImRvYyIsICJkb2N4IiwgInhscyIsICJ4bHN4Il0uaW5jbHVkZXMocm93LmZpbGVfdHlwZSkKICAgICAgKSB7CiAgICAgICAgLy9vZmZpY2Xmlofku7YKICAgICAgICB3aW5kb3cub3Blbih0aGlzLmdldERvd25sb2FkRmlsZShyb3cuaWQpLCAiX2JsYW5rIik7CiAgICAgIH0KICAgIH0sCiAgICAvLyAg6K6h566X5paH5Lu25aSn5bCPCiAgICBjYWxjdWxhdGVGaWxlU2l6ZShzaXplKSB7CiAgICAgIGNvbnN0IEIgPSAxMDI0OwogICAgICBjb25zdCBLQiA9IE1hdGgucG93KDEwMjQsIDIpOwogICAgICBjb25zdCBNQiA9IE1hdGgucG93KDEwMjQsIDMpOwogICAgICBjb25zdCBHQiA9IE1hdGgucG93KDEwMjQsIDQpOwogICAgICBpZiAoIXNpemUpIHsKICAgICAgICByZXR1cm4gIiAiOwogICAgICB9IGVsc2UgaWYgKHNpemUgPCBLQikgewogICAgICAgIHJldHVybiAoc2l6ZSAvIEIpLnRvRml4ZWQoMCkgKyAiS0IiOwogICAgICB9IGVsc2UgaWYgKHNpemUgPCBNQikgewogICAgICAgIHJldHVybiAoc2l6ZSAvIEtCKS50b0ZpeGVkKDEpICsgIk1CIjsKICAgICAgfSBlbHNlIGlmIChzaXplIDwgR0IpIHsKICAgICAgICByZXR1cm4gKHNpemUgLyBNQikudG9GaXhlZCgyKSArICJHQiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIChzaXplIC8gR0IpLnRvRml4ZWQoMykgKyAiVEIiOwogICAgICB9CiAgICB9LAogICAgLy8g6KGo5qC86KGM5Yu+6YCJ5LqL5Lu2IHNlbGVjdGlvbiDli77pgInnmoTooajmoLzooYzmlbDmja4KICAgIGhhbmRsZVNlbGVjdFJvdyhzZWxlY3Rpb24pIHsKICAgICAgdGhpcy4kZW1pdCgiaGFuZGxlU2VsZWN0RmlsZSIsIHRydWUsIHNlbGVjdGlvbik7IC8vIHRydWUvZmFsc2Ug5om56YeP56e75YqoL+WNleaWh+S7tuaTjeS9nO+8m3NlbGVjdGlvbiDli77pgInnmoTooajmoLzooYzmlbDmja4KICAgIH0sCiAgICAvLyDliKDpmaTmjInpkq4gLSDngrnlh7vkuovku7YKICAgIGhhbmRsZUNsaWNrRGVsZXRlKHJvdykgewogICAgICAvLyDmtojmga/lvLnmoYbmj5DnpLrnlKjmiLcKICAgICAgdGhpcy4kY29uZmlybSgKICAgICAgICAi5q2k5pON5L2c5bCG5Yig6Zmk6K+l5paH5Lu2LCDkvYbkvaDkvp3nhLblj6/ku6XlnKjlm57mlLbnq5nmib7liLDlroPvvIzmmK/lkKbnu6fnu60/IiwKICAgICAgICAi5o+Q56S6IiwKICAgICAgICB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0KICAgICAgKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIC8vIOehruWumuaMiemSriDngrnlh7vkuovku7Yg6LCD55So5Yig6Zmk5paH5Lu25o6l5Y+jCiAgICAgICAgICBkZWxldGVGaWxlKHJvdykudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJnZXRUYWJsZURhdGEiKTsgLy8gIOWIt+aWsOaWh+S7tuWIl+ihqAogICAgICAgICAgICAvLyB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgLy8gIOWPlua2iAogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgbWVzc2FnZTogIuW3suWPlua2iOWIoOmZpCIKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOenu+WKqOaMiemSriAtIOeCueWHu+S6i+S7tgogICAgaGFuZGxlQ2xpY2tNb3ZlKHJvdykgewogICAgICB0aGlzLiRlbWl0KCJoYW5kbGVTZWxlY3RGaWxlIiwgZmFsc2UsIHJvdyk7IC8vIHRydWUvZmFsc2Ug5om56YeP56e75YqoL+WNleaWh+S7tuaTjeS9nO+8m3JvdyDlvZPliY3ooYzmlofku7bmlbDmja4KICAgICAgdGhpcy4kZW1pdCgiaGFuZGxlTW92ZUZpbGUiLCB0cnVlKTsgLy8gdHJ1ZS9mYWxzZSDmiZPlvIAv5YWz6Zet56e75Yqo5paH5Lu25a+56K+d5qGGCiAgICB9LAogICAgLy8g6YeN5ZG95ZCN5oyJ6ZKuIC0g54K55Ye75LqL5Lu2CiAgICBoYW5kbGVDbGlja1JlbmFtZShyb3cpIHsKICAgICAgY29uc3QgZmlsZU5hbWUgPSByb3cuZmlsZV9uYW1lOwogICAgICB0aGlzLiRwcm9tcHQoIuivt+i+k+WFpeaWh+S7tuWQjSIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIGlucHV0VmFsdWU6IGZpbGVOYW1lLAogICAgICAgIGlucHV0UGF0dGVybjogL1xTLywgLy8gIOaWh+S7tuWQjeS4jeiDveS4uuepugogICAgICAgIGlucHV0RXJyb3JNZXNzYWdlOiAi6K+36L6T5YWl5paH5Lu25ZCNIiwKICAgICAgICBjbG9zZU9uQ2xpY2tNb2RhbDogZmFsc2UKICAgICAgfSkKICAgICAgICAudGhlbigoeyB2YWx1ZSB9KSA9PiB7CiAgICAgICAgICAvLyDnoa7lrprmjInpkq4g6LCD55So6YeN5ZG95ZCN5o6l5Y+jCiAgICAgICAgICByZW5hbWVGaWxlKHsKICAgICAgICAgICAgLi4ucm93LAogICAgICAgICAgICBmaWxlX25hbWU6IHZhbHVlCiAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImdldFRhYmxlRGF0YSIpOyAvLyAg5Yi35paw5paH5Lu25YiX6KGoCiAgICAgICAgICAgIC8vIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5paH5Lu25bey6YeN5ZG95ZCNIik7CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICBtZXNzYWdlOiAi5Y+W5raIIgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiL6L295oyJ6ZKuCiAgICBnZXREb3dubG9hZFBhdGgocm93KSB7CiAgICAgIHJldHVybiB0aGlzLmdldERvd25sb2FkRmlsZShyb3cuaWQpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["FileGrid.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FileGrid.vue","sourceRoot":"src/views/components","sourcesContent":["<template slot-scope=\"scope\">\n  <!--  网格试图-->\n  <ul class=\"file-list\" v-loading=\"loading\" element-loading-text=\"加载中……\">\n    <li\n      class=\"file-item\"\n      v-for=\"(item, index) in tableData\"\n      :key=\"index\"\n      @click=\"handleFileNameClick(item)\"\n      :title=\"`${item.file_name}`\"\n    >\n      <img class=\"file-img\" :src=\"setFileImg(item)\" />\n      <div class=\"file-name\">{{ item.file_name }}</div>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport { deleteFile, renameFile } from \"@/request/file\";\n\nexport default {\n  name: \"FileGrid\",\n  props: {\n    // 文件数据\n    tableData: {\n      type: Array,\n      required: true\n    },\n    // 加载状态\n    loading: {\n      type: Boolean,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      operaColumnIsFold: sessionStorage.getItem(\"operaColumnIsFold\") || false, //  表格操作列-是否收缩\n      //  文件图片Map映射\n      fileImgMap: {\n        csv: require(\"../../assets/images/file/file_csv.png\"),\n        doc: require(\"../../assets/images/file/file_word.svg\"),\n        excel: require(\"../../assets/images/file/file_excel.svg\"),\n        exe: require(\"../../assets/images/file/file_exe.png\"),\n        gif: require(\"../../assets/images/file/file_gif.png\"),\n        html: require(\"../../assets/images/file/file_html.png\"),\n        json: require(\"../../assets/images/file/file_json.png\"),\n        mp3: require(\"../../assets/images/file/file_music.png\"),\n        flac: require(\"../../assets/images/file/file_music.png\"),\n        other: require(\"../../assets/images/file/file_unknown.png\"),\n        pdf: require(\"../../assets/images/file/file_pdf.png\"),\n        ppt: require(\"../../assets/images/file/file_ppt.svg\"),\n        rar: require(\"../../assets/images/file/file_rar.png\"),\n        svg: require(\"../../assets/images/file/file_svg.png\"),\n        fold: require(\"../../assets/images/file/dir.png\"),\n        txt: require(\"../../assets/images/file/file_txt.png\"),\n        zip: require(\"../../assets/images/file/file_zip.png\"),\n        wav: require(\"../../assets/images/file/file_music.png\"),\n        mp4: require(\"../../assets/images/file/file_avi.png\")\n      }\n    };\n  },\n  computed: {\n    // 表格显示列\n    selectedColumnList() {\n      return this.$store.getters.selectedColumnList;\n    }\n  },\n  watch: {\n    // 监听收缩状态变化，存储在sessionStorage中，保证页面刷新时仍然保存设置的状态\n    operaColumnIsFold(newValue) {\n      sessionStorage.setItem(\"operaColumnIsFold\", newValue);\n    }\n  },\n  created() {\n    this.operaColumnIsFold =\n      sessionStorage.getItem(\"operaColumnIsFold\") === \"true\"; //  读取保存的状态\n  },\n  methods: {\n    //  根据文件扩展名设置文件图片\n    setFileImg(row) {\n      if (row._directory) {\n        //  文件夹\n        return this.fileImgMap.fold;\n      } else if ([\"jpg\", \"png\", \"jpeg\", \"gif\"].includes(row.file_type)) {\n        // 图片类型，直接显示缩略图\n        return this.getThumbnailPath(row.id);\n      } else {\n        const fileTypeMap = {\n          pptx: \"ppt\",\n          doc: \"word\",\n          docx: \"doc\",\n          xls: \"excel\",\n          xlsx: \"excel\"\n        };\n        //  可以识别文件类型的文件\n        return (\n          this.fileImgMap[row.file_type] ||\n          this.fileImgMap[fileTypeMap[row.file_type]] ||\n          this.fileImgMap.other\n        );\n      }\n    },\n    // 文件名点击事件\n    handleFileNameClick(row) {\n      //  若是目录则进入目录\n      if (row._directory) {\n        this.$router.push({\n          query: {\n            filePath: `${row.file_url}${row.file_name}/`,\n            fileType: 0\n          }\n        });\n      } else if ([\"jpg\", \"png\", \"jpeg\"].includes(row.file_type)) {\n        // 触发图片在线查看\n        let data = {\n          imgReviewVisible: true,\n          imgReviewList: [\n            {\n              fileUrl: this.getThumbnailPath(row.id),\n              downloadLink: this.getThumbnailPath(row.id),\n              fileName: row.file_name,\n              extendName: row.file_type\n            }\n          ],\n          activeIndex: 0\n        };\n        this.$store.commit(\"setImgReviewData\", data);\n      } else if ([\"mp3\", \"flac\", \"wav\"].includes(row.file_type)) {\n        // 触发音频\n        let data = {\n          audioReviewVisible: true,\n          audioReviewList: [\n            {\n              fileUrl: this.getThumbnailPath(row.id),\n              downloadLink: this.getThumbnailPath(row.id),\n              filename: row.file_name + \".\" + row.file_type\n            }\n          ],\n          activeIndex: 0\n        };\n        this.$store.commit(\"setAudioReviewData\", data);\n      } else if ([\"mp4\", \"wmv\"].includes(row.file_type)) {\n        // 视频\n        let data = {\n          visible: true,\n          url: this.getThumbnailPath(row.id),\n          filename: row.file_name + \".\" + row.file_type\n        };\n        this.$store.commit(\"setVideoReviewData\", data);\n      } else if ([\"txt\", \"js\"].includes(row.file_type)) {\n        // 文本文件\n        let data = {\n          codeReviewVisible: true,\n          fileId: row.id,\n          filename: row.file_name + \".\" + row.file_type\n        };\n        this.$store.commit(\"setCodeReviewData\", data);\n      } else if (\n        [\"ppt\", \"pptx\", \"doc\", \"docx\", \"xls\", \"xlsx\"].includes(row.file_type)\n      ) {\n        //office文件\n        window.open(this.getDownloadFile(row.id), \"_blank\");\n      }\n    },\n    //  计算文件大小\n    calculateFileSize(size) {\n      const B = 1024;\n      const KB = Math.pow(1024, 2);\n      const MB = Math.pow(1024, 3);\n      const GB = Math.pow(1024, 4);\n      if (!size) {\n        return \" \";\n      } else if (size < KB) {\n        return (size / B).toFixed(0) + \"KB\";\n      } else if (size < MB) {\n        return (size / KB).toFixed(1) + \"MB\";\n      } else if (size < GB) {\n        return (size / MB).toFixed(2) + \"GB\";\n      } else {\n        return (size / GB).toFixed(3) + \"TB\";\n      }\n    },\n    // 表格行勾选事件 selection 勾选的表格行数据\n    handleSelectRow(selection) {\n      this.$emit(\"handleSelectFile\", true, selection); // true/false 批量移动/单文件操作；selection 勾选的表格行数据\n    },\n    // 删除按钮 - 点击事件\n    handleClickDelete(row) {\n      // 消息弹框提示用户\n      this.$confirm(\n        \"此操作将删除该文件, 但你依然可以在回收站找到它，是否继续?\",\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }\n      )\n        .then(() => {\n          // 确定按钮 点击事件 调用删除文件接口\n          deleteFile(row).then(res => {\n            console.log(res);\n            this.$emit(\"getTableData\"); //  刷新文件列表\n            // this.$message.success(\"删除成功\");\n          });\n        })\n        .catch(() => {\n          //  取消\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\"\n          });\n        });\n    },\n    // 移动按钮 - 点击事件\n    handleClickMove(row) {\n      this.$emit(\"handleSelectFile\", false, row); // true/false 批量移动/单文件操作；row 当前行文件数据\n      this.$emit(\"handleMoveFile\", true); // true/false 打开/关闭移动文件对话框\n    },\n    // 重命名按钮 - 点击事件\n    handleClickRename(row) {\n      const fileName = row.file_name;\n      this.$prompt(\"请输入文件名\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputValue: fileName,\n        inputPattern: /\\S/, //  文件名不能为空\n        inputErrorMessage: \"请输入文件名\",\n        closeOnClickModal: false\n      })\n        .then(({ value }) => {\n          // 确定按钮 调用重命名接口\n          renameFile({\n            ...row,\n            file_name: value\n          }).then(res => {\n            console.log(res);\n            this.$emit(\"getTableData\"); //  刷新文件列表\n            // this.$message.success(\"文件已重命名\");\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"取消\"\n          });\n        });\n    },\n    // 下载按钮\n    getDownloadPath(row) {\n      return this.getDownloadFile(row.id);\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/style/mixins.styl';\n\n.file-list {\n  height: calc(100vh - 237px);\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n  list-style: none;\n  overflow-y: auto;\n  setScrollbar(8px, #EBEEF5, #909399);\n\n  .file-item {\n    margin: 16px 16px 0 0;\n    border-radius: 4px;\n    width: 120px;\n    padding: 8px;\n    cursor: pointer;\n    text-align: center;\n\n    &:hover {\n      background: #F5F7FA;\n    }\n\n    .file-img {\n      width: 100px;\n      height: 100px;\n    }\n\n    .file-name {\n      line-height: 24px;\n      font-size: 12px;\n      word-break: break-all;\n      setEllipsis(2);\n    }\n  }\n}\n</style>\n"]}]}