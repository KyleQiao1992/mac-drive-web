{"remainingRequest":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mttest/Profile/mac-drive-web/src/components/ImgReview.vue?vue&type=style&index=0&id=4725410a&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/mttest/Profile/mac-drive-web/src/components/ImgReview.vue","mtime":1701827905859},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAnfkAvYXNzZXRzL3N0eWxlL21peGlucy5zdHlsJzsKCi5pbWctcmV2aWV3LXdyYXBwZXIgewogIHBvc2l0aW9uOiBmaXhlZDsKICB0b3A6IDA7CiAgcmlnaHQ6IDA7CiAgYm90dG9tOiAwOwogIGxlZnQ6IDA7CiAgb3ZlcmZsb3c6IGF1dG87CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHotaW5kZXg6IDIwMTA7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBhbmltYXRpb246IGltZ1Jldmlld0FuaW1hdGlvbiAwLjNzOwogIC13ZWJraXQtYW5pbWF0aW9uOiBpbWdSZXZpZXdBbmltYXRpb24gMC4zczsgLyogU2FmYXJpIGFuZCBDaHJvbWUgKi8KICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAwLjM7CiAgLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAwLjM7CiAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7CiAgLXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkczsgLyogU2FmYXJpIOWSjCBDaHJvbWUgKi8KCiAgQGtleWZyYW1lcyBpbWdSZXZpZXdBbmltYXRpb24gewogICAgMCUgewogICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgIH0KCiAgICAxMDAlIHsKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpOwogICAgfQogIH0KCiAgQGtleWZyYW1lcyBpbWdSZXZpZXdBbmltYXRpb24gewogICAgMCUgewogICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgIH0KCiAgICAxMDAlIHsKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjgpOwogICAgfQogIH0KCiAgLnRpcC13cmFwcGVyIHsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgei1pbmRleDogMjAxMTsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgIHBhZGRpbmc6IDAgNDhweDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiA0OHB4OwogICAgbGluZS1oZWlnaHQ6IDQ4cHg7CiAgICBjb2xvcjogI2ZmZjsKICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CgogICAgLm5hbWUgewogICAgICBmbGV4OiAxOwogICAgICBwYWRkaW5nLXJpZ2h0OiAxNnB4OwogICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIH0KCiAgICAub3BlcmEtYnRuLWdyb3VwIHsKICAgICAgd2lkdGg6IDEwMHB4OwogICAgICBkaXNwbGF5OiBmbGV4OwoKICAgICAgPj4+IC5lbC1pbnB1dC1udW1iZXIgewogICAgICAgIHdpZHRoOiA0MHB4OwoKICAgICAgICAuZWwtaW5wdXQtbnVtYmVyX19kZWNyZWFzZSwgLmVsLWlucHV0LW51bWJlcl9faW5jcmVhc2UgewogICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5lbC1pbnB1dF9faW5uZXIgewogICAgICAgICAgbWFyZ2luLXRvcDogMTRweDsKICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgICAgICAgIGhlaWdodDogMjBweDsKICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgIH0KICAgICAgfQoKICAgICAgLnNwbGl0LWxpbmUgewogICAgICAgIG1hcmdpbjogMCA4cHg7CiAgICAgIH0KICAgIH0KCiAgICAudG9vbC13cmFwcGVyIHsKICAgICAgZmxleDogMTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKCiAgICAgIC5pdGVtIHsKICAgICAgICBtYXJnaW4tbGVmdDogMTZweDsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CgogICAgICAgICY6aG92ZXIgewogICAgICAgICAgb3BhY2l0eTogMC43OwogICAgICAgIH0KICAgICAgfQoKICAgICAgLmVsLWljb24tcmVmcmVzaC1yaWdodCB7CiAgICAgICAgbGluZS1oZWlnaHQ6IDQ4cHg7CiAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICB9CgogICAgICAuZWwtaWNvbi1yZWZyZXNoLWxlZnQgewogICAgICAgIGxpbmUtaGVpZ2h0OiA0OHB4OwogICAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgfQoKICAgICAgLmRvd25sb2FkLWxpbmsgewogICAgICAgIGNvbG9yOiBpbmhlcml0OwogICAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgfQoKICAgICAgLnRleHQtd3JhcHBlciB7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDMycHg7CgogICAgICAgIC50ZXh0IHsKICAgICAgICAgIG1hcmdpbi1yaWdodDogOHB4OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgLmltZy1sYXJnZSB7CiAgICBtYXJnaW46IDAgYXV0bzsKICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjVzOwogICAgLXdlYmtpdC10cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC41czsgLyogU2FmYXJpICovCiAgfQoKICAucHJlLWljb24sIC5uZXh0LWljb24gewogICAgZm9udC1zaXplOiA2MHB4OwogICAgY29sb3I6ICNmZmY7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDUwJTsKICAgIGN1cnNvcjogcG9pbnRlcjsKCiAgICAmOmhvdmVyIHsKICAgICAgb3BhY2l0eTogMC43OwogICAgfQogIH0KCiAgLnByZS1pY29uIHsKICAgIGxlZnQ6IDY0cHg7CiAgfQoKICAubmV4dC1pY29uIHsKICAgIHJpZ2h0OiA2NHB4OwogIH0KCiAgLnpvb20tYmFyIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHJpZ2h0OiAwOwogICAgYm90dG9tOiAyMHB4OwogICAgbGVmdDogMDsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgd2lkdGg6IDYwMHB4OwogICAgZGlzcGxheTogZmxleDsKCiAgICA+Pj4gLmVsLXNsaWRlciB7CiAgICAgIGZsZXg6IDE7CgogICAgICAuZWwtc2xpZGVyX19iYXIgewogICAgICAgIGJhY2tncm91bmQ6ICRQcmltYXJ5VGV4dDsKICAgICAgfQoKICAgICAgLmVsLXNsaWRlcl9fYnV0dG9uIHsKICAgICAgICBib3JkZXItY29sb3I6ICRQcmltYXJ5VGV4dDsKICAgICAgfQogICAgfQoKICAgIC56b29tLWNvdW50IHsKICAgICAgd2lkdGg6IDYwcHg7CiAgICAgIGhlaWdodDogMzhweDsKICAgICAgbGluZS1oZWlnaHQ6IDM4cHg7CiAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICBjb2xvcjogI2ZmZjsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["ImgReview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6LA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImgReview.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    class=\"img-review-wrapper\"\n    v-show=\"imgReviewVisible\"\n    @click.self=\"closeImgReview\"\n    @mousewheel.prevent=\"rollImg()\"\n  >\n    <!-- 顶部信息栏 & 工具栏 -->\n    <div class=\"tip-wrapper\" v-if=\"imgReviewVisible\">\n      <div class=\"name\" :title=\"activeFileName + activeExtendName\">\n        {{ activeFileName }}.{{ activeExtendName }}\n      </div>\n      <div class=\"opera-btn-group\">\n        <el-input-number\n          v-model=\"inputActiveIndex\"\n          :min=\"1\"\n          :max=\"imgReviewList.length\"\n          size=\"mini\"\n        ></el-input-number>\n        <span class=\"split-line\">/</span>{{ imgReviewList.length }}\n      </div>\n      <div class=\"tool-wrapper\">\n        <i\n          class=\"item el-icon-refresh-left\"\n          title=\"向左旋转\"\n          @click=\"rotateLeftImg\"\n        ></i>\n        <i\n          class=\"item el-icon-refresh-right\"\n          title=\"向右旋转\"\n          @click=\"rotateImg\"\n        ></i>\n        <a\n          class=\"item download-link\"\n          target=\"_blank\"\n          :href=\"activeDownloadLink\"\n          :download=\"activeFileName + '.' + activeExtendName\"\n        >\n          <i class=\"el-icon-download\" title=\"保存到本地\"></i>\n        </a>\n      </div>\n    </div>\n    <!-- 大图查看 -->\n    <img\n      class=\"img-large\"\n      ref=\"imgLarge\"\n      v-for=\"(item, index) in imgReviewList\"\n      :key=\"index\"\n      :src=\"item.fileUrl\"\n      v-show=\"index === activeIndex\"\n    />\n    <!-- 左右切换图标 -->\n    <i\n      class=\"pre-icon el-icon-arrow-left\"\n      title=\"上一张\"\n      v-show=\"activeIndex > 0\"\n      @click.stop=\"activeIndex--\"\n    ></i>\n    <i\n      class=\"next-icon el-icon-arrow-right\"\n      title=\"下一张\"\n      v-show=\"activeIndex < imgReviewList.length - 1\"\n      @click.stop=\"activeIndex++\"\n    ></i>\n    <!-- 底部显示放大缩小比例 -->\n    <div class=\"zoom-bar\">\n      <el-slider\n        v-model=\"imgZoom\"\n        :min=\"imgZoomMin\"\n        :max=\"imgZoomMax\"\n        :format-tooltip=\"formatZoom\"\n        @input=\"changeZoom\"\n      ></el-slider>\n      <div class=\"zoom-count\">{{ imgZoom }}%</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ImgReview\",\n  data() {\n    return {\n      rotate: 0, //  旋转角度\n      activeIndex: 0, //  当前图片索引 从 0 开始\n      imgZoom: 40, //  图片缩放比例\n      imgZoomMin: 1, //  图片缩放最小比例\n      imgZoomMax: 200, //  图片缩放最大比例\n    };\n  },\n  computed: {\n    // 图片查看组件是否显示\n    imgReviewVisible() {\n      return this.$store.state.imgReview.imgReviewVisible;\n    },\n    // 图片信息列表\n    imgReviewList() {\n      return this.$store.state.imgReview.imgReviewList;\n    },\n    // 默认显示的图片索引 从 0 开始\n    defaultActiveIndex() {\n      return this.$store.state.imgReview.defaultActiveIndex;\n    },\n    // 当前显示的图片名称\n    activeFileName() {\n      return this.imgReviewList[this.activeIndex].fileName;\n    },\n    // 当前显示的图片扩展名\n    activeExtendName() {\n      return this.imgReviewList[this.activeIndex].extendName;\n    },\n    // 对用户而言 显示的图片索引 从 1 开始 顶部栏输入框控制此值变化\n    inputActiveIndex: {\n      get() {\n        return this.activeIndex + 1;\n      },\n      set(value) {\n        this.activeIndex = value - 1;\n      }\n    },\n    // 当前显示的图片下载链接\n    activeDownloadLink() {\n      return this.imgReviewList[this.activeIndex].downloadLink;\n    }\n  },\n  watch: {\n    // 监听 图片索引变化\n    activeIndex(newValue) {\n      this.rotate = 0;\n      this.$nextTick(() => {\n        if (this.$refs.imgLarge[newValue].style.zoom) {\n          this.imgZoom = Number(\n            this.$refs.imgLarge[newValue].style.zoom.split(\"%\")[0]\n          );\n        } else {\n          this.$refs.imgLarge[newValue].style.zoom = \"40%\";\n          this.imgZoom = 40;\n        }\n      });\n    }\n  },\n  methods: {\n    //  关闭图片预览\n    closeImgReview() {\n      this.$store.commit(\"setImgReviewData\", { imgReviewVisible: false });\n      this.rotate = 0;\n      this.$refs.imgLarge[\n        this.activeIndex\n      ].style.transform = `rotate(${this.rotate}deg)`;\n    },\n    // 格式化缩放数字 显示图片缩放比例\n    formatZoom(value) {\n      return value + \"%\";\n    },\n    // 图片缩放改变事件\n    changeZoom(value) {\n      if (this.$refs.imgLarge) {\n        this.$refs.imgLarge[this.activeIndex].style.zoom = value + \"%\";\n      }\n    },\n    // 缩放图片\n    rollImg() {\n      let zoom =\n        parseInt(this.$refs.imgLarge[this.activeIndex].style.zoom) || 100;\n      zoom += event.wheelDelta / 12;\n      if (zoom >= this.imgZoomMin && zoom < this.imgZoomMax) {\n        this.imgZoom = zoom;\n        this.$refs.imgLarge[this.activeIndex].style.zoom = zoom + \"%\";\n      }\n      return false;\n    },\n    //  旋转图片\n    rotateImg() {\n      this.rotate += 90;\n      this.$refs.imgLarge[\n        this.activeIndex\n      ].style.transform = `rotate(${this.rotate}deg)`;\n    },\n    rotateLeftImg() {\n      this.rotate -= 90;\n      this.$refs.imgLarge[\n        this.activeIndex\n      ].style.transform = `rotate(${this.rotate}deg)`;\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/style/mixins.styl';\n\n.img-review-wrapper {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  z-index: 2010;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  animation: imgReviewAnimation 0.3s;\n  -webkit-animation: imgReviewAnimation 0.3s; /* Safari and Chrome */\n  animation-iteration-count: 0.3;\n  -webkit-animation-iteration-count: 0.3;\n  animation-fill-mode: forwards;\n  -webkit-animation-fill-mode: forwards; /* Safari 和 Chrome */\n\n  @keyframes imgReviewAnimation {\n    0% {\n      background: transparent;\n    }\n\n    100% {\n      background: rgba(0, 0, 0, 0.8);\n    }\n  }\n\n  @keyframes imgReviewAnimation {\n    0% {\n      background: transparent;\n    }\n\n    100% {\n      background: rgba(0, 0, 0, 0.8);\n    }\n  }\n\n  .tip-wrapper {\n    box-sizing: border-box;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 2011;\n    background: rgba(0, 0, 0, 0.5);\n    padding: 0 48px;\n    width: 100%;\n    height: 48px;\n    line-height: 48px;\n    color: #fff;\n    font-size: 16px;\n    display: flex;\n    justify-content: space-between;\n\n    .name {\n      flex: 1;\n      padding-right: 16px;\n      text-align: left;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .opera-btn-group {\n      width: 100px;\n      display: flex;\n\n      >>> .el-input-number {\n        width: 40px;\n\n        .el-input-number__decrease, .el-input-number__increase {\n          display: none;\n        }\n\n        .el-input__inner {\n          margin-top: 14px;\n          background: rgba(0, 0, 0, 0.5);\n          height: 20px;\n          line-height: 20px;\n          padding: 0;\n          font-size: 16px;\n          color: #fff;\n        }\n      }\n\n      .split-line {\n        margin: 0 8px;\n      }\n    }\n\n    .tool-wrapper {\n      flex: 1;\n      display: flex;\n      justify-content: flex-end;\n\n      .item {\n        margin-left: 16px;\n        cursor: pointer;\n\n        &:hover {\n          opacity: 0.7;\n        }\n      }\n\n      .el-icon-refresh-right {\n        line-height: 48px;\n        font-size: 18px;\n      }\n\n      .el-icon-refresh-left {\n        line-height: 48px;\n        font-size: 18px;\n      }\n\n      .download-link {\n        color: inherit;\n        font-size: 18px;\n      }\n\n      .text-wrapper {\n        margin-left: 32px;\n\n        .text {\n          margin-right: 8px;\n        }\n      }\n    }\n  }\n\n  .img-large {\n    margin: 0 auto;\n    transition: transform 0.5s;\n    -webkit-transition: transform 0.5s; /* Safari */\n  }\n\n  .pre-icon, .next-icon {\n    font-size: 60px;\n    color: #fff;\n    position: fixed;\n    top: 50%;\n    cursor: pointer;\n\n    &:hover {\n      opacity: 0.7;\n    }\n  }\n\n  .pre-icon {\n    left: 64px;\n  }\n\n  .next-icon {\n    right: 64px;\n  }\n\n  .zoom-bar {\n    position: fixed;\n    right: 0;\n    bottom: 20px;\n    left: 0;\n    margin: 0 auto;\n    width: 600px;\n    display: flex;\n\n    >>> .el-slider {\n      flex: 1;\n\n      .el-slider__bar {\n        background: $PrimaryText;\n      }\n\n      .el-slider__button {\n        border-color: $PrimaryText;\n      }\n    }\n\n    .zoom-count {\n      width: 60px;\n      height: 38px;\n      line-height: 38px;\n      text-align: right;\n      color: #fff;\n    }\n  }\n}\n</style>\n"]}]}