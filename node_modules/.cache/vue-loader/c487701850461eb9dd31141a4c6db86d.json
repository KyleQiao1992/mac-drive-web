{"remainingRequest":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mttest/Profile/mac-drive-web/src/views/components/FileTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mttest/Profile/mac-drive-web/src/views/components/FileTable.vue","mtime":1702876094475},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mttest/Profile/mac-drive-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRlbGV0ZUZpbGUsIHJlbmFtZUZpbGUgfSBmcm9tICJAL3JlcXVlc3QvZmlsZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRmlsZVRhYmxlIiwKICBwcm9wczogewogICAgLy8gVGFibGUgZGF0YQogICAgdGFibGVEYXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIC8vIFRhYmxlIGxvYWRpbmcgc3RhdHVzCiAgICBsb2FkaW5nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgLy8gRmlsZSB0eXBlCiAgICBmaWxlVHlwZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3BlcmFDb2x1bW5Jc0ZvbGQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oIm9wZXJhQ29sdW1uSXNGb2xkIikgfHwgZmFsc2UsIC8vIFRhYmxlIG9wZXJhdGlvbiBjb2x1bW4gLSB3aGV0aGVyIGl0J3MgY29sbGFwc2VkCiAgICAgIC8vIEZpbGUgaW1hZ2UgbWFwCiAgICAgIGZpbGVJbWdNYXA6IHsKICAgICAgICBjc3Y6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX2Nzdi5wbmciKSwKICAgICAgICBkb2M6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX3dvcmQuc3ZnIiksCiAgICAgICAgZXhjZWw6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX2V4Y2VsLnN2ZyIpLAogICAgICAgIGV4ZTogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfZXhlLnBuZyIpLAogICAgICAgIGdpZjogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfZ2lmLnBuZyIpLAogICAgICAgIGh0bWw6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX2h0bWwucG5nIiksCiAgICAgICAganNvbjogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfanNvbi5wbmciKSwKICAgICAgICBtcDM6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX211c2ljLnBuZyIpLAogICAgICAgIGZsYWM6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX211c2ljLnBuZyIpLAogICAgICAgIG90aGVyOiByZXF1aXJlKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2ZpbGUvZmlsZV91bmtub3duLnBuZyIpLAogICAgICAgIHBkZjogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfcGRmLnBuZyIpLAogICAgICAgIHBwdDogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfcHB0LnN2ZyIpLAogICAgICAgIHJhcjogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfcmFyLnBuZyIpLAogICAgICAgIHN2ZzogcmVxdWlyZSgiLi4vLi4vYXNzZXRzL2ltYWdlcy9maWxlL2ZpbGVfc3ZnLnBuZyIpLAogICAgICAgIGZvbGQ6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9kaXIucG5nIiksCiAgICAgICAgdHh0OiByZXF1aXJlKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2ZpbGUvZmlsZV90eHQucG5nIiksCiAgICAgICAgemlwOiByZXF1aXJlKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2ZpbGUvZmlsZV96aXAucG5nIiksCiAgICAgICAgd2F2OiByZXF1aXJlKCIuLi8uLi9hc3NldHMvaW1hZ2VzL2ZpbGUvZmlsZV9tdXNpYy5wbmciKSwKICAgICAgICBtcDQ6IHJlcXVpcmUoIi4uLy4uL2Fzc2V0cy9pbWFnZXMvZmlsZS9maWxlX2F2aS5wbmciKQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIFRhYmxlIGRpc3BsYXllZCBjb2x1bW5zCiAgICBzZWxlY3RlZENvbHVtbkxpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnNlbGVjdGVkQ29sdW1uTGlzdDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyBMaXN0ZW4gdG8gY2hhbmdlcyBpbiB0aGUgY29sbGFwc2Ugc3RhdHVzIGFuZCBzdG9yZSBpdCBpbiBzZXNzaW9uU3RvcmFnZSB0byBtYWludGFpbiB0aGUgc2V0dGluZyBhZnRlciBwYWdlIHJlZnJlc2gKICAgIG9wZXJhQ29sdW1uSXNGb2xkKG5ld1ZhbHVlKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIm9wZXJhQ29sdW1uSXNGb2xkIiwgbmV3VmFsdWUpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMub3BlcmFDb2x1bW5Jc0ZvbGQgPQogICAgICBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJvcGVyYUNvbHVtbklzRm9sZCIpID09PSAidHJ1ZSI7IC8vIFJlYWQgc2F2ZWQgc3RhdHVzCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBTZXQgZmlsZSBpbWFnZSBiYXNlZCBvbiBmaWxlIGV4dGVuc2lvbgogICAgc2V0RmlsZUltZyhyb3cpIHsKICAgICAgaWYgKHJvdy5fZGlyZWN0b3J5KSB7CiAgICAgICAgLy8gRm9sZGVyCiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZUltZ01hcC5mb2xkOwogICAgICB9IGVsc2UgaWYgKFsianBnIiwgInBuZyIsICJqcGVnIiwgImdpZiJdLmluY2x1ZGVzKHJvdy5maWxlX3R5cGUpKSB7CiAgICAgICAgLy8gSW1hZ2UgdHlwZXMsIHNob3cgdGh1bWJuYWlsIGRpcmVjdGx5CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGh1bWJuYWlsUGF0aChyb3cuaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGZpbGVUeXBlTWFwID0gewogICAgICAgICAgcHB0eDogInBwdCIsCiAgICAgICAgICBkb2M6ICJ3b3JkIiwKICAgICAgICAgIGRvY3g6ICJkb2MiLAogICAgICAgICAgeGxzOiAiZXhjZWwiLAogICAgICAgICAgeGxzeDogImV4Y2VsIgogICAgICAgIH07CiAgICAgICAgLy8gUmVjb2duaXphYmxlIGZpbGUgdHlwZXMKICAgICAgICByZXR1cm4gKAogICAgICAgICAgdGhpcy5maWxlSW1nTWFwW3Jvdy5maWxlX3R5cGVdIHx8CiAgICAgICAgICB0aGlzLmZpbGVJbWdNYXBbZmlsZVR5cGVNYXBbcm93LmZpbGVfdHlwZV1dIHx8CiAgICAgICAgICB0aGlzLmZpbGVJbWdNYXAub3RoZXIKICAgICAgICApOwogICAgICB9CiAgICB9LAogICAgLy8gRmlsZSBuYW1lIGNsaWNrIGV2ZW50CiAgICBoYW5kbGVGaWxlTmFtZUNsaWNrKHJvdykgewogICAgICAvLyBJZiBpdCBpcyBhIGRpcmVjdG9yeSwgdGhlbiBnbyBpbnRvIHRoZSBkaXJlY3RvcnkKICAgICAgaWYgKHJvdy5fZGlyZWN0b3J5KSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgZmlsZVBhdGg6IGAke3Jvdy5maWxlX3VybH0ke3Jvdy5maWxlX25hbWV9L2AsCiAgICAgICAgICAgIGZpbGVUeXBlOiAwCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoWyJqcGciLCAicG5nIiwgImpwZWciXS5pbmNsdWRlcyhyb3cuZmlsZV90eXBlKSkgewogICAgICAgIC8vIFRyaWdnZXIgaW1hZ2Ugb25saW5lIHZpZXdpbmcKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIGltZ1Jldmlld1Zpc2libGU6IHRydWUsCiAgICAgICAgICBpbWdSZXZpZXdMaXN0OiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBmaWxlVXJsOiB0aGlzLmdldFRodW1ibmFpbFBhdGgocm93LmlkKSwKICAgICAgICAgICAgICBkb3dubG9hZExpbms6IHRoaXMuZ2V0VGh1bWJuYWlsUGF0aChyb3cuaWQpLAogICAgICAgICAgICAgIGZpbGVOYW1lOiByb3cuZmlsZV9uYW1lLAogICAgICAgICAgICAgIGV4dGVuZE5hbWU6IHJvdy5maWxlX3R5cGUKICAgICAgICAgICAgfQogICAgICAgICAgXSwKICAgICAgICAgIGFjdGl2ZUluZGV4OiAwCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEltZ1Jldmlld0RhdGEiLCBkYXRhKTsKICAgICAgfSBlbHNlIGlmIChbIm1wMyIsICJmbGFjIiwgIndhdiJdLmluY2x1ZGVzKHJvdy5maWxlX3R5cGUpKSB7CiAgICAgICAgLy8gVHJpZ2dlciBhdWRpbwogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgYXVkaW9SZXZpZXdWaXNpYmxlOiB0cnVlLAogICAgICAgICAgYXVkaW9SZXZpZXdMaXN0OiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBmaWxlVXJsOiB0aGlzLmdldFRodW1ibmFpbFBhdGgocm93LmlkKSwKICAgICAgICAgICAgICBkb3dubG9hZExpbms6IHRoaXMuZ2V0VGh1bWJuYWlsUGF0aChyb3cuaWQpLAogICAgICAgICAgICAgIGZpbGVuYW1lOiByb3cuZmlsZV9uYW1lICsgIi4iICsgcm93LmZpbGVfdHlwZQogICAgICAgICAgICB9CiAgICAgICAgICBdLAogICAgICAgICAgYWN0aXZlSW5kZXg6IDAKICAgICAgICB9OwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0QXVkaW9SZXZpZXdEYXRhIiwgZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAoWyJtcDQiLCAid212Il0uaW5jbHVkZXMocm93LmZpbGVfdHlwZSkpIHsKICAgICAgICAvLyBWaWRlbwogICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgIHVybDogdGhpcy5nZXRUaHVtYm5haWxQYXRoKHJvdy5pZCksCiAgICAgICAgICBmaWxlbmFtZTogcm93LmZpbGVfbmFtZSArICIuIiArIHJvdy5maWxlX3R5cGUKICAgICAgICB9OwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0VmlkZW9SZXZpZXdEYXRhIiwgZGF0YSk7CiAgICAgIH0gZWxzZSBpZiAoWyJ0eHQiLCAianMiXS5pbmNsdWRlcyhyb3cuZmlsZV90eXBlKSkgewogICAgICAgIC8vIFRleHQgZmlsZXMKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIGNvZGVSZXZpZXdWaXNpYmxlOiB0cnVlLAogICAgICAgICAgZmlsZUlkOiByb3cuaWQsCiAgICAgICAgICBmaWxlbmFtZTogcm93LmZpbGVfbmFtZSArICIuIiArIHJvdy5maWxlX3R5cGUKICAgICAgICB9OwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Q29kZVJldmlld0RhdGEiLCBkYXRhKTsKICAgICAgfSBlbHNlIGlmICgKICAgICAgICBbInBwdCIsICJwcHR4IiwgImRvYyIsICJkb2N4IiwgInhscyIsICJ4bHN4Il0uaW5jbHVkZXMocm93LmZpbGVfdHlwZSkKICAgICAgKSB7CiAgICAgICAgLy8gT2ZmaWNlIGZpbGVzCiAgICAgICAgd2luZG93Lm9wZW4odGhpcy5nZXREb3dubG9hZEZpbGUocm93LmlkKSwgIl9ibGFuayIpOwogICAgICB9CiAgICB9LAogICAgLy8gQ2FsY3VsYXRlIGZpbGUgc2l6ZQogICAgY2FsY3VsYXRlRmlsZVNpemUoc2l6ZSkgewogICAgICBjb25zdCBCID0gMTAyNDsKICAgICAgY29uc3QgS0IgPSBNYXRoLnBvdygxMDI0LCAyKTsKICAgICAgY29uc3QgTUIgPSBNYXRoLnBvdygxMDI0LCAzKTsKICAgICAgY29uc3QgR0IgPSBNYXRoLnBvdygxMDI0LCA0KTsKICAgICAgaWYgKCFzaXplKSB7CiAgICAgICAgcmV0dXJuICIgIjsKICAgICAgfSBlbHNlIGlmIChzaXplIDwgS0IpIHsKICAgICAgICByZXR1cm4gKHNpemUgLyBCKS50b0ZpeGVkKDApICsgIktCIjsKICAgICAgfSBlbHNlIGlmIChzaXplIDwgTUIpIHsKICAgICAgICByZXR1cm4gKHNpemUgLyBLQikudG9GaXhlZCgxKSArICJNQiI7CiAgICAgIH0gZWxzZSBpZiAoc2l6ZSA8IEdCKSB7CiAgICAgICAgcmV0dXJuIChzaXplIC8gTUIpLnRvRml4ZWQoMikgKyAiR0IiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAoc2l6ZSAvIEdCKS50b0ZpeGVkKDMpICsgIlRCIjsKICAgICAgfQogICAgfSwKICAgIC8vIFRhYmxlIHJvdyBzZWxlY3Rpb24gZXZlbnQsIHNlbGVjdGlvbiBpcyB0aGUgc2VsZWN0ZWQgdGFibGUgcm93IGRhdGEKICAgIGhhbmRsZVNlbGVjdFJvdyhzZWxlY3Rpb24pIHsKICAgICAgdGhpcy4kZW1pdCgiaGFuZGxlU2VsZWN0RmlsZSIsIHRydWUsIHNlbGVjdGlvbik7IC8vIHRydWUvZmFsc2UgZm9yIGJhdGNoIG1vdmUvc2luZ2xlIGZpbGUgb3BlcmF0aW9uOyBzZWxlY3Rpb24gaXMgdGhlIHNlbGVjdGVkIHRhYmxlIHJvdyBkYXRhCiAgICB9LAogICAgLy8gRGVsZXRlIGJ1dHRvbiAtIENsaWNrIGV2ZW50CiAgICBoYW5kbGVDbGlja0RlbGV0ZShyb3cpIHsKICAgICAgdGhpcy4kY29uZmlybSgKICAgICAgICAiVGhpcyBvcGVyYXRpb24gd2lsbCBkZWxldGUgdGhlIGZpbGUsIGJ1dCB5b3UgY2FuIHN0aWxsIGZpbmQgaXQgaW4gdGhlIHJlY3ljbGUgYmluLiBEbyB5b3Ugd2FudCB0byBjb250aW51ZT8iLAogICAgICAgICJXYXJuaW5nIiwKICAgICAgICB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIkNvbmZpcm0iLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIkNhbmNlbCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9CiAgICAgICkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBkZWxldGVGaWxlKHJvdykudGhlbihyZXMgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCJnZXRUYWJsZURhdGEiKTsgLy8gUmVmcmVzaCBmaWxlIGxpc3QKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJEZWxldGlvbiBjYW5jZWxsZWQiCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyBNb3ZlIGJ1dHRvbiAtIENsaWNrIGV2ZW50CiAgICBoYW5kbGVDbGlja01vdmUocm93KSB7CiAgICAgIHRoaXMuJGVtaXQoImhhbmRsZVNlbGVjdEZpbGUiLCBmYWxzZSwgcm93KTsgLy8gdHJ1ZS9mYWxzZSBmb3IgYmF0Y2ggbW92ZS9zaW5nbGUgZmlsZSBvcGVyYXRpb247IHJvdyBpcyB0aGUgY3VycmVudCByb3cgZmlsZSBkYXRhCiAgICAgIHRoaXMuJGVtaXQoImhhbmRsZU1vdmVGaWxlIiwgdHJ1ZSk7IC8vIHRydWUvZmFsc2UgdG8gb3Blbi9jbG9zZSB0aGUgbW92ZSBmaWxlIGRpYWxvZwogICAgfSwKICAgIC8vIFJlbmFtZSBidXR0b24gLSBDbGljayBldmVudAogICAgaGFuZGxlQ2xpY2tSZW5hbWUocm93KSB7CiAgICAgIGNvbnN0IGZpbGVOYW1lID0gcm93LmZpbGVfbmFtZTsKICAgICAgdGhpcy4kcHJvbXB0KCJQbGVhc2UgZW50ZXIgYSBuZXcgZmlsZSBuYW1lIiwgIlByb21wdCIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIkNvbmZpcm0iLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWwiLAogICAgICAgIGlucHV0VmFsdWU6IGZpbGVOYW1lLAogICAgICAgIGlucHV0UGF0dGVybjogL1xTLywgLy8gRmlsZSBuYW1lIGNhbid0IGJlIGVtcHR5CiAgICAgICAgaW5wdXRFcnJvck1lc3NhZ2U6ICJQbGVhc2UgZW50ZXIgYSBmaWxlIG5hbWUiLAogICAgICAgIGNsb3NlT25DbGlja01vZGFsOiBmYWxzZQogICAgICB9KQogICAgICAgIC50aGVuKCh7IHZhbHVlIH0pID0+IHsKICAgICAgICAgIHJlbmFtZUZpbGUoewogICAgICAgICAgICAuLi5yb3csCiAgICAgICAgICAgIGZpbGVfbmFtZTogdmFsdWUKICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgiZ2V0VGFibGVEYXRhIik7IC8vIFJlZnJlc2ggZmlsZSBsaXN0CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICBtZXNzYWdlOiAiQ2FuY2VsbGVkIgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8gRG93bmxvYWQgYnV0dG9uCiAgICBnZXREb3dubG9hZFBhdGgocm93KSB7CiAgICAgIHJldHVybiB0aGlzLmdldERvd25sb2FkRmlsZShyb3cuaWQpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["FileTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FileTable.vue","sourceRoot":"src/views/components","sourcesContent":["<template>\n  <el-table\n    class=\"file-table\"\n    :data=\"tableData\"\n    height=\"calc(100vh - 232px)\"\n    :row-style=\"{ height: '50px' }\"\n    :cell-style=\"{ padding: '0px' }\"\n    style=\"width: 100%\"\n    v-loading=\"loading\"\n    @selection-change=\"handleSelectRow\"\n  >\n    <!-- Checkbox Column -->\n    <el-table-column\n      type=\"selection\"\n      width=\"50\"\n      align=\"center\"\n    ></el-table-column>\n    <el-table-column label prop=\"isDir\" width=\"50\" align=\"center\">\n      <template slot-scope=\"scope\">\n        <img :src=\"setFileImg(scope.row)\" style=\"width: 30px\" />\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"fileName\" label=\"File Name\">\n      <template slot-scope=\"scope\">\n        <div style=\"cursor: pointer\" @click=\"handleFileNameClick(scope.row)\">\n          {{\n            scope.row.file_type\n              ? `${scope.row.file_name}.${scope.row.file_type}`\n              : `${scope.row.file_name}`\n          }}\n        </div>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"extendName\" label=\"Type\" width=\"100\">\n      <template slot-scope=\"scope\">\n        <span>\n          {{ scope.row.file_type ? scope.row.file_type : \"Folder\" }}\n        </span>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"file_size\" label=\"Size\" width=\"100\">\n      <template slot-scope=\"scope\">\n        <span>\n          {{ calculateFileSize(scope.row.file_size) }}\n        </span>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"file_date\" label=\"Upload Date\" width=\"180\">\n    </el-table-column>\n    <el-table-column\n      prop=\"file_url\"\n      label=\"Original Path\"\n      width=\"180\"\n      v-if=\"fileType === 8\"\n    >\n    </el-table-column>\n    <el-table-column\n      prop=\"file_url\"\n      label=\"Share Link\"\n      width=\"250\"\n      v-if=\"fileType === 9\"\n    >\n    </el-table-column>\n    <el-table-column\n      prop=\"file_url\"\n      label=\"Share Date\"\n      width=\"180\"\n      v-if=\"fileType === 9\"\n    >\n    </el-table-column>\n    <el-table-column\n      prop=\"file_url\"\n      label=\"Expiration Date\"\n      width=\"180\"\n      v-if=\"fileType === 9\"\n    >\n    </el-table-column>\n    <el-table-column\n      prop=\"file_del_date\"\n      label=\"Deletion Date\"\n      width=\"180\"\n      v-if=\"fileType === 8\"\n    >\n    </el-table-column>\n    <!-- Operation Column - Custom Table Header -->\n    <el-table-column :width=\"operaColumnIsFold ? 200 : 100\">\n      <!-- Custom Table Header -->\n      <template slot=\"header\">\n        <span>Operation</span>\n        <i\n          class=\"el-icon-circle-plus\"\n          title=\"Expand\"\n          @click=\"operaColumnIsFold = true\"\n        ></i>\n        <i\n          class=\"el-icon-remove\"\n          title=\"Collapse\"\n          @click=\"operaColumnIsFold = false\"\n        ></i>\n      </template>\n      <template slot-scope=\"scope\">\n        <!-- Buttons when Operation Column is Expanded -->\n        <div class=\"opera-unfold\" v-if=\"operaColumnIsFold\">\n          <el-button\n            type=\"text\"\n            size=\"small\"\n            v-if=\"fileType < 7\"\n            @click.native=\"handleClickDelete(scope.row)\"\n          >Delete</el-button\n          >\n          <el-button\n            type=\"text\"\n            size=\"small\"\n            v-if=\"fileType === 8\"\n            @click.native=\"handleClickDelete(scope.row)\"\n          >Restore</el-button\n          >\n          <el-button\n            type=\"text\"\n            size=\"small\"\n            v-if=\"fileType < 7\"\n            @click.native=\"handleClickMove(scope.row)\"\n          >Move</el-button\n          >\n          <el-button\n            type=\"text\"\n            v-if=\"fileType === 8\"\n            size=\"small\"\n            @click.native=\"handleClickDelete(scope.row)\"\n          >Permanently Delete</el-button\n          >\n          <el-button\n            type=\"text\"\n            size=\"small\"\n            v-if=\"fileType < 7\"\n            @click.native=\"handleClickRename(scope.row)\"\n          >Rename</el-button\n          >\n          <el-button type=\"text\" size=\"small\">\n            <a\n              target=\"_blank\"\n              style=\"display: block; color: inherit; text-decoration-line: none\"\n              :href=\"getDownloadPath(scope.row)\"\n              v-if=\"fileType < 7\"\n            >Download</a\n            >\n          </el-button>\n        </div>\n        <!-- Buttons when Operation Column is Collapsed -->\n        <el-dropdown trigger=\"click\" v-else>\n          <el-button size=\"mini\">\n            Operation\n            <i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item\n              @click.native=\"handleClickDelete(scope.row)\"\n              v-if=\"fileType < 7\"\n            >Delete</el-dropdown-item\n            >\n            <el-dropdown-item\n              @click.native=\"handleClickMove(scope.row)\"\n              v-if=\"fileType < 7\"\n            >Move</el-dropdown-item\n            >\n            <el-dropdown-item\n              @click.native=\"handleClickRename(scope.row)\"\n              v-if=\"fileType < 7\"\n            >Rename</el-dropdown-item\n            >\n            <el-dropdown-item\n              @click.native=\"handleClickRename(scope.row)\"\n              v-if=\"fileType === 8\"\n            >File Restore</el-dropdown-item\n            >\n            <el-dropdown-item\n              @click.native=\"handleClickRename(scope.row)\"\n              v-if=\"fileType === 8\"\n            >Permanently Delete</el-dropdown-item\n            >\n            <el-dropdown-item>\n              <a\n                target=\"_blank\"\n                :href=\"getDownloadPath(scope.row)\"\n                style=\"display: block; color: inherit; text-decoration-line: none\"\n                v-if=\"fileType < 7\"\n              >Download</a\n              >\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </template>\n    </el-table-column>\n  </el-table>\n</template>\n\n<script>\nimport { deleteFile, renameFile } from \"@/request/file\";\nexport default {\n  name: \"FileTable\",\n  props: {\n    // Table data\n    tableData: {\n      type: Array,\n      required: true\n    },\n    // Table loading status\n    loading: {\n      type: Boolean,\n      required: true\n    },\n    // File type\n    fileType: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      operaColumnIsFold: sessionStorage.getItem(\"operaColumnIsFold\") || false, // Table operation column - whether it's collapsed\n      // File image map\n      fileImgMap: {\n        csv: require(\"../../assets/images/file/file_csv.png\"),\n        doc: require(\"../../assets/images/file/file_word.svg\"),\n        excel: require(\"../../assets/images/file/file_excel.svg\"),\n        exe: require(\"../../assets/images/file/file_exe.png\"),\n        gif: require(\"../../assets/images/file/file_gif.png\"),\n        html: require(\"../../assets/images/file/file_html.png\"),\n        json: require(\"../../assets/images/file/file_json.png\"),\n        mp3: require(\"../../assets/images/file/file_music.png\"),\n        flac: require(\"../../assets/images/file/file_music.png\"),\n        other: require(\"../../assets/images/file/file_unknown.png\"),\n        pdf: require(\"../../assets/images/file/file_pdf.png\"),\n        ppt: require(\"../../assets/images/file/file_ppt.svg\"),\n        rar: require(\"../../assets/images/file/file_rar.png\"),\n        svg: require(\"../../assets/images/file/file_svg.png\"),\n        fold: require(\"../../assets/images/file/dir.png\"),\n        txt: require(\"../../assets/images/file/file_txt.png\"),\n        zip: require(\"../../assets/images/file/file_zip.png\"),\n        wav: require(\"../../assets/images/file/file_music.png\"),\n        mp4: require(\"../../assets/images/file/file_avi.png\")\n      }\n    };\n  },\n  computed: {\n    // Table displayed columns\n    selectedColumnList() {\n      return this.$store.getters.selectedColumnList;\n    }\n  },\n  watch: {\n    // Listen to changes in the collapse status and store it in sessionStorage to maintain the setting after page refresh\n    operaColumnIsFold(newValue) {\n      sessionStorage.setItem(\"operaColumnIsFold\", newValue);\n    }\n  },\n  created() {\n    this.operaColumnIsFold =\n      sessionStorage.getItem(\"operaColumnIsFold\") === \"true\"; // Read saved status\n  },\n  methods: {\n    // Set file image based on file extension\n    setFileImg(row) {\n      if (row._directory) {\n        // Folder\n        return this.fileImgMap.fold;\n      } else if ([\"jpg\", \"png\", \"jpeg\", \"gif\"].includes(row.file_type)) {\n        // Image types, show thumbnail directly\n        return this.getThumbnailPath(row.id);\n      } else {\n        const fileTypeMap = {\n          pptx: \"ppt\",\n          doc: \"word\",\n          docx: \"doc\",\n          xls: \"excel\",\n          xlsx: \"excel\"\n        };\n        // Recognizable file types\n        return (\n          this.fileImgMap[row.file_type] ||\n          this.fileImgMap[fileTypeMap[row.file_type]] ||\n          this.fileImgMap.other\n        );\n      }\n    },\n    // File name click event\n    handleFileNameClick(row) {\n      // If it is a directory, then go into the directory\n      if (row._directory) {\n        this.$router.push({\n          query: {\n            filePath: `${row.file_url}${row.file_name}/`,\n            fileType: 0\n          }\n        });\n      } else if ([\"jpg\", \"png\", \"jpeg\"].includes(row.file_type)) {\n        // Trigger image online viewing\n        let data = {\n          imgReviewVisible: true,\n          imgReviewList: [\n            {\n              fileUrl: this.getThumbnailPath(row.id),\n              downloadLink: this.getThumbnailPath(row.id),\n              fileName: row.file_name,\n              extendName: row.file_type\n            }\n          ],\n          activeIndex: 0\n        };\n        this.$store.commit(\"setImgReviewData\", data);\n      } else if ([\"mp3\", \"flac\", \"wav\"].includes(row.file_type)) {\n        // Trigger audio\n        let data = {\n          audioReviewVisible: true,\n          audioReviewList: [\n            {\n              fileUrl: this.getThumbnailPath(row.id),\n              downloadLink: this.getThumbnailPath(row.id),\n              filename: row.file_name + \".\" + row.file_type\n            }\n          ],\n          activeIndex: 0\n        };\n        this.$store.commit(\"setAudioReviewData\", data);\n      } else if ([\"mp4\", \"wmv\"].includes(row.file_type)) {\n        // Video\n        let data = {\n          visible: true,\n          url: this.getThumbnailPath(row.id),\n          filename: row.file_name + \".\" + row.file_type\n        };\n        this.$store.commit(\"setVideoReviewData\", data);\n      } else if ([\"txt\", \"js\"].includes(row.file_type)) {\n        // Text files\n        let data = {\n          codeReviewVisible: true,\n          fileId: row.id,\n          filename: row.file_name + \".\" + row.file_type\n        };\n        this.$store.commit(\"setCodeReviewData\", data);\n      } else if (\n        [\"ppt\", \"pptx\", \"doc\", \"docx\", \"xls\", \"xlsx\"].includes(row.file_type)\n      ) {\n        // Office files\n        window.open(this.getDownloadFile(row.id), \"_blank\");\n      }\n    },\n    // Calculate file size\n    calculateFileSize(size) {\n      const B = 1024;\n      const KB = Math.pow(1024, 2);\n      const MB = Math.pow(1024, 3);\n      const GB = Math.pow(1024, 4);\n      if (!size) {\n        return \" \";\n      } else if (size < KB) {\n        return (size / B).toFixed(0) + \"KB\";\n      } else if (size < MB) {\n        return (size / KB).toFixed(1) + \"MB\";\n      } else if (size < GB) {\n        return (size / MB).toFixed(2) + \"GB\";\n      } else {\n        return (size / GB).toFixed(3) + \"TB\";\n      }\n    },\n    // Table row selection event, selection is the selected table row data\n    handleSelectRow(selection) {\n      this.$emit(\"handleSelectFile\", true, selection); // true/false for batch move/single file operation; selection is the selected table row data\n    },\n    // Delete button - Click event\n    handleClickDelete(row) {\n      this.$confirm(\n        \"This operation will delete the file, but you can still find it in the recycle bin. Do you want to continue?\",\n        \"Warning\",\n        {\n          confirmButtonText: \"Confirm\",\n          cancelButtonText: \"Cancel\",\n          type: \"warning\"\n        }\n      )\n        .then(() => {\n          deleteFile(row).then(res => {\n            console.log(res);\n            this.$emit(\"getTableData\"); // Refresh file list\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"Deletion cancelled\"\n          });\n        });\n    },\n    // Move button - Click event\n    handleClickMove(row) {\n      this.$emit(\"handleSelectFile\", false, row); // true/false for batch move/single file operation; row is the current row file data\n      this.$emit(\"handleMoveFile\", true); // true/false to open/close the move file dialog\n    },\n    // Rename button - Click event\n    handleClickRename(row) {\n      const fileName = row.file_name;\n      this.$prompt(\"Please enter a new file name\", \"Prompt\", {\n        confirmButtonText: \"Confirm\",\n        cancelButtonText: \"Cancel\",\n        inputValue: fileName,\n        inputPattern: /\\S/, // File name can't be empty\n        inputErrorMessage: \"Please enter a file name\",\n        closeOnClickModal: false\n      })\n        .then(({ value }) => {\n          renameFile({\n            ...row,\n            file_name: value\n          }).then(res => {\n            console.log(res);\n            this.$emit(\"getTableData\"); // Refresh file list\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"Cancelled\"\n          });\n        });\n    },\n    // Download button\n    getDownloadPath(row) {\n      return this.getDownloadFile(row.id);\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~@/assets/style/mixins.styl';\n\n.file-table {\n\n  // 调整滚动条样式\n  >>> .el-table__body-wrapper {\n    setScrollbar(8px, #EBEEF5, #909399);\n  }\n}\n\n// 表格操作列-表头图标样式调整\n.el-icon-circle-plus, .el-icon-remove {\n  margin-left: 8px;\n  cursor: pointer;\n  font-size: 16px;\n\n  &:hover {\n    opacity: 0.5;\n  }\n}\n</style>\n"]}]}